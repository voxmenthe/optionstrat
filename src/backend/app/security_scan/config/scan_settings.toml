# =============================================================================
# Indicator Instance Configuration
# =============================================================================
# Each [[indicators.instances]] block defines one indicator scan configuration.
# - id: The indicator type (e.g., "roc", "roc_aggregate")
# - instance_id: Optional unique name for this specific instance
# - Additional keys are passed as settings to the indicator

# -----------------------------------------------------------------------------
# ROC (Rate of Change) Indicator
# -----------------------------------------------------------------------------
[[indicators.instances]]
id = "roc"
instance_id = "roc_1"
roc_lookback = 12

[[indicators.instances.criteria]]
type = "crossover"
series = "roc"
level = 0
direction = "both"

# -----------------------------------------------------------------------------
# ROC Aggregate Indicator
# -----------------------------------------------------------------------------
[[indicators.instances]]
id = "roc_aggregate"
instance_id = "roc_aggregate_1"
roc_lookbacks = [5, 10, 20]
roc_change_lookbacks = [1, 3, 5]
ma_short = 5
ma_long = 20

# -----------------------------------------------------------------------------
# QRS Consistency + Excess Indicator
# -----------------------------------------------------------------------------
[[indicators.instances]]
id = "qrs_consist_excess"
instance_id = "qrs_consist_excess_1"
map1 = 7
map2 = 27
map3 = 56

# -----------------------------------------------------------------------------
# Dual-Criteria Breakout Scan (SCL MA2 + QRS MA1)
# -----------------------------------------------------------------------------
[[indicators.instances]]
id = "scl_ma2_qrs_ma1_breakout"
instance_id = "scl_ma2_qrs_ma1_breakout_1"

# Compare MA2 (SCL) to prior N-bar extremes (excludes current bar).
scl_ma2_window = 12
lag1 = 2
lag2 = 3
lag3 = 4
lag4 = 5
lag5 = 11
cd_offset1 = 2
cd_offset2 = 3
ma_period1 = 5
ma_period2 = 11

# Compare MA1 (QRS) to prior N-bar extremes (excludes current bar).
qrs_ma1_window = 5
map1 = 7
map2 = 27
map3 = 56

# -----------------------------------------------------------------------------
# Aggregate Configuration
# -----------------------------------------------------------------------------
[aggregates]
advance_decline_lookbacks = [1, 5, 10]

# -----------------------------------------------------------------------------
# Report Configuration
# -----------------------------------------------------------------------------
[report]
html = true
aggregate_lookback_days = 90
# plot_lookbacks = [1, 5, 10]
# max_points = 120
net_advances_ma_days = 26
net_advances_secondary_ma_days = 8
advance_pct_avg_smoothing_days = 4
roc_breadth_avg_smoothing_days = 4
