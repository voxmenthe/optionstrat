2025-03-30 19:53:18,904 - app.main - INFO - Backend logging initialized. Log file: /Volumes/bdrive/repos/optionstrat/src/backend/logs/backend.log
2025-03-30 19:53:35,504 - app.main - INFO - REQUEST: POST /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-30 19:53:35,504 - app.main - INFO - RESPONSE: POST /debug/clear-logs - Status: 200 - Time: 0.0006s
2025-03-30 19:53:35,675 - app.main - INFO - REQUEST: OPTIONS /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-30 19:53:35,675 - app.main - INFO - RESPONSE: OPTIONS /debug/clear-logs - Status: 200 - Time: 0.0002s
2025-03-30 19:53:35,677 - app.main - INFO - REQUEST: POST /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-30 19:53:35,677 - app.main - INFO - RESPONSE: POST /debug/clear-logs - Status: 200 - Time: 0.0005s
2025-03-30 19:53:35,729 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-30 19:53:35,736 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-30 19:53:35,736 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-30 19:53:35,736 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-30 19:53:35,739 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: IBM
2025-03-30 19:53:35,739 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for IBM
2025-03-30 19:53:35,739 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for IBM
2025-03-30 19:53:35,739 - yfinance - DEBUG - Entering history()
2025-03-30 19:53:35,741 - peewee - DEBUG - ('CREATE TABLE IF NOT EXISTS "_kv" ("key" VARCHAR(255) NOT NULL PRIMARY KEY, "value" VARCHAR(255)) WITHOUT ROWID', [])
2025-03-30 19:53:35,741 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['IBM', 1, 0])
2025-03-30 19:53:35,771 - yfinance - DEBUG -  Entering history()
2025-03-30 19:53:35,771 - yfinance - DEBUG - IBM: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-30 19:53:35,771 - yfinance - DEBUG -   Entering get()
2025-03-30 19:53:35,771 - yfinance - DEBUG -    Entering _make_request()
2025-03-30 19:53:35,771 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/IBM
2025-03-30 19:53:35,771 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-30 19:53:35,771 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-30 19:53:35,771 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-30 19:53:35,771 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-30 19:53:35,772 - peewee - DEBUG - ('CREATE TABLE IF NOT EXISTS "_cookieschema" ("strategy" VARCHAR(255) NOT NULL PRIMARY KEY, "fetch_date" DATETIME NOT NULL, "cookie_bytes" BLOB NOT NULL) WITHOUT ROWID', [])
2025-03-30 19:53:35,773 - peewee - DEBUG - ('SELECT "t1"."strategy", "t1"."fetch_date", "t1"."cookie_bytes" FROM "_cookieschema" AS "t1" WHERE ("t1"."strategy" = ?) LIMIT ? OFFSET ?', ['basic', 1, 0])
2025-03-30 19:53:35,773 - yfinance - DEBUG - loaded persistent cookie
2025-03-30 19:53:35,773 - yfinance - DEBUG - reusing cookie
2025-03-30 19:53:35,777 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): query1.finance.yahoo.com:443
2025-03-30 19:53:35,917 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v1/test/getcrumb HTTP/1.1" 200 11
2025-03-30 19:53:35,917 - yfinance - DEBUG - crumb = 'sQO5vSfFbdD'
2025-03-30 19:53:35,917 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-30 19:53:35,917 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-30 19:53:35,918 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): query2.finance.yahoo.com:443
2025-03-30 19:53:36,130 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/IBM?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=sQO5vSfFbdD HTTP/1.1" 200 None
2025-03-30 19:53:36,150 - yfinance - DEBUG - response code=200
2025-03-30 19:53:36,150 - yfinance - DEBUG -    Exiting _make_request()
2025-03-30 19:53:36,150 - yfinance - DEBUG -   Exiting get()
2025-03-30 19:53:36,152 - yfinance - DEBUG - IBM: yfinance received OHLC data: 2024-04-01 13:30:00 -> 2025-03-28 13:30:00
2025-03-30 19:53:36,155 - yfinance - DEBUG - IBM: OHLC after cleaning: 2024-04-01 09:30:00-04:00 -> 2025-03-28 09:30:00-04:00
2025-03-30 19:53:36,159 - yfinance - DEBUG - IBM: OHLC after combining events: 2024-04-01 00:00:00-04:00 -> 2025-03-28 00:00:00-04:00
2025-03-30 19:53:36,160 - yfinance - DEBUG - IBM: yfinance returning OHLC: 2024-04-01 00:00:00-04:00 -> 2025-03-28 00:00:00-04:00
2025-03-30 19:53:36,160 - yfinance - DEBUG -  Exiting history()
2025-03-30 19:53:36,160 - yfinance - DEBUG - Exiting history()
2025-03-30 19:53:36,161 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for IBM: 244.0
2025-03-30 19:53:36,161 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 244.0 for IBM with TTL=300
2025-03-30 19:53:36,164 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:IBM
2025-03-30 19:53:36,164 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 244.0 for IBM
2025-03-30 19:53:36,164 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-30 19:53:36,164 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-30 19:53:36,164 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-30 19:53:36,165 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-30 19:53:36,165 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 244.0
2025-03-30 19:53:36,165 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-30 19:53:36,165 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-30 19:53:36,165 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-30 19:53:36,165 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-30 19:53:36,165 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 244.0
2025-03-30 19:53:36,165 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-30 19:53:36,166 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-30 19:53:36,166 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-30 19:53:36,167 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: GS
2025-03-30 19:53:36,167 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for GS
2025-03-30 19:53:36,167 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for GS
2025-03-30 19:53:36,167 - yfinance - DEBUG - Entering history()
2025-03-30 19:53:36,167 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['GS', 1, 0])
2025-03-30 19:53:36,167 - yfinance - DEBUG -  Entering history()
2025-03-30 19:53:36,167 - yfinance - DEBUG - GS: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-30 19:53:36,167 - yfinance - DEBUG -   Entering get()
2025-03-30 19:53:36,167 - yfinance - DEBUG -    Entering _make_request()
2025-03-30 19:53:36,167 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/GS
2025-03-30 19:53:36,167 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-30 19:53:36,167 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-30 19:53:36,167 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-30 19:53:36,167 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-30 19:53:36,168 - yfinance - DEBUG - reusing cookie
2025-03-30 19:53:36,168 - yfinance - DEBUG - reusing crumb
2025-03-30 19:53:36,168 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-30 19:53:36,168 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-30 19:53:36,267 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/GS?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=sQO5vSfFbdD HTTP/1.1" 200 None
2025-03-30 19:53:36,267 - yfinance - DEBUG - response code=200
2025-03-30 19:53:36,268 - yfinance - DEBUG -    Exiting _make_request()
2025-03-30 19:53:36,268 - yfinance - DEBUG -   Exiting get()
2025-03-30 19:53:36,269 - yfinance - DEBUG - GS: yfinance received OHLC data: 2024-04-01 13:30:00 -> 2025-03-28 13:30:00
2025-03-30 19:53:36,269 - yfinance - DEBUG - GS: OHLC after cleaning: 2024-04-01 09:30:00-04:00 -> 2025-03-28 09:30:00-04:00
2025-03-30 19:53:36,272 - yfinance - DEBUG - GS: OHLC after combining events: 2024-04-01 00:00:00-04:00 -> 2025-03-28 00:00:00-04:00
2025-03-30 19:53:36,272 - yfinance - DEBUG - GS: yfinance returning OHLC: 2024-04-01 00:00:00-04:00 -> 2025-03-28 00:00:00-04:00
2025-03-30 19:53:36,272 - yfinance - DEBUG -  Exiting history()
2025-03-30 19:53:36,273 - yfinance - DEBUG - Exiting history()
2025-03-30 19:53:36,273 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for GS: 543.1199951171875
2025-03-30 19:53:36,273 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 543.1199951171875 for GS with TTL=300
2025-03-30 19:53:36,275 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:GS
2025-03-30 19:53:36,275 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 543.1199951171875 for GS
2025-03-30 19:53:36,276 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-30 19:53:36,276 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-30 19:53:36,276 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-30 19:53:36,277 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: MA
2025-03-30 19:53:36,277 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for MA
2025-03-30 19:53:36,277 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for MA
2025-03-30 19:53:36,277 - yfinance - DEBUG - Entering history()
2025-03-30 19:53:36,277 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['MA', 1, 0])
2025-03-30 19:53:36,278 - yfinance - DEBUG -  Entering history()
2025-03-30 19:53:36,278 - yfinance - DEBUG - MA: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-30 19:53:36,278 - yfinance - DEBUG -   Entering get()
2025-03-30 19:53:36,278 - yfinance - DEBUG -    Entering _make_request()
2025-03-30 19:53:36,278 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/MA
2025-03-30 19:53:36,278 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-30 19:53:36,278 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-30 19:53:36,278 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-30 19:53:36,278 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-30 19:53:36,278 - yfinance - DEBUG - reusing cookie
2025-03-30 19:53:36,278 - yfinance - DEBUG - reusing crumb
2025-03-30 19:53:36,278 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-30 19:53:36,278 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-30 19:53:36,363 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/MA?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=sQO5vSfFbdD HTTP/1.1" 200 None
2025-03-30 19:53:36,365 - yfinance - DEBUG - response code=200
2025-03-30 19:53:36,365 - yfinance - DEBUG -    Exiting _make_request()
2025-03-30 19:53:36,365 - yfinance - DEBUG -   Exiting get()
2025-03-30 19:53:36,367 - yfinance - DEBUG - MA: yfinance received OHLC data: 2024-04-01 13:30:00 -> 2025-03-28 13:30:00
2025-03-30 19:53:36,368 - yfinance - DEBUG - MA: OHLC after cleaning: 2024-04-01 09:30:00-04:00 -> 2025-03-28 09:30:00-04:00
2025-03-30 19:53:36,372 - yfinance - DEBUG - MA: OHLC after combining events: 2024-04-01 00:00:00-04:00 -> 2025-03-28 00:00:00-04:00
2025-03-30 19:53:36,373 - yfinance - DEBUG - MA: yfinance returning OHLC: 2024-04-01 00:00:00-04:00 -> 2025-03-28 00:00:00-04:00
2025-03-30 19:53:36,373 - yfinance - DEBUG -  Exiting history()
2025-03-30 19:53:36,373 - yfinance - DEBUG - Exiting history()
2025-03-30 19:53:36,374 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for MA: 540.6099853515625
2025-03-30 19:53:36,374 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 540.6099853515625 for MA with TTL=300
2025-03-30 19:53:36,376 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:MA
2025-03-30 19:53:36,376 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 540.6099853515625 for MA
2025-03-30 19:53:36,376 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-30 19:53:36,376 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-30 19:53:36,376 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-30 19:53:36,378 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: AVGO
2025-03-30 19:53:36,378 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for AVGO
2025-03-30 19:53:36,378 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for AVGO
2025-03-30 19:53:36,378 - yfinance - DEBUG - Entering history()
2025-03-30 19:53:36,378 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['AVGO', 1, 0])
2025-03-30 19:53:36,378 - yfinance - DEBUG -  Entering history()
2025-03-30 19:53:36,378 - yfinance - DEBUG - AVGO: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-30 19:53:36,378 - yfinance - DEBUG -   Entering get()
2025-03-30 19:53:36,378 - yfinance - DEBUG -    Entering _make_request()
2025-03-30 19:53:36,378 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/AVGO
2025-03-30 19:53:36,378 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-30 19:53:36,378 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-30 19:53:36,378 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-30 19:53:36,378 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-30 19:53:36,378 - yfinance - DEBUG - reusing cookie
2025-03-30 19:53:36,378 - yfinance - DEBUG - reusing crumb
2025-03-30 19:53:36,378 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-30 19:53:36,378 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-30 19:53:36,479 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/AVGO?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=sQO5vSfFbdD HTTP/1.1" 200 None
2025-03-30 19:53:36,479 - yfinance - DEBUG - response code=200
2025-03-30 19:53:36,480 - yfinance - DEBUG -    Exiting _make_request()
2025-03-30 19:53:36,480 - yfinance - DEBUG -   Exiting get()
2025-03-30 19:53:36,481 - yfinance - DEBUG - AVGO: yfinance received OHLC data: 2024-04-01 13:30:00 -> 2025-03-28 13:30:00
2025-03-30 19:53:36,481 - yfinance - DEBUG - AVGO: OHLC after cleaning: 2024-04-01 09:30:00-04:00 -> 2025-03-28 09:30:00-04:00
2025-03-30 19:53:36,485 - yfinance - DEBUG - AVGO: OHLC after combining events: 2024-04-01 00:00:00-04:00 -> 2025-03-28 00:00:00-04:00
2025-03-30 19:53:36,485 - yfinance - DEBUG - AVGO: yfinance returning OHLC: 2024-04-01 00:00:00-04:00 -> 2025-03-28 00:00:00-04:00
2025-03-30 19:53:36,485 - yfinance - DEBUG -  Exiting history()
2025-03-30 19:53:36,485 - yfinance - DEBUG - Exiting history()
2025-03-30 19:53:36,486 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for AVGO: 169.1199951171875
2025-03-30 19:53:36,486 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 169.1199951171875 for AVGO with TTL=300
2025-03-30 19:53:36,488 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:AVGO
2025-03-30 19:53:36,488 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 169.1199951171875 for AVGO
2025-03-30 19:53:36,489 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-30 19:53:36,489 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-30 19:53:36,489 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-30 19:53:36,489 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-30 19:53:36,489 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 169.1199951171875
2025-03-30 19:53:36,489 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-30 19:53:36,489 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-30 19:53:36,489 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-30 19:53:36,491 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: WMT
2025-03-30 19:53:36,491 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for WMT
2025-03-30 19:53:36,491 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for WMT
2025-03-30 19:53:36,491 - yfinance - DEBUG - Entering history()
2025-03-30 19:53:36,491 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['WMT', 1, 0])
2025-03-30 19:53:36,491 - yfinance - DEBUG -  Entering history()
2025-03-30 19:53:36,491 - yfinance - DEBUG - WMT: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-30 19:53:36,491 - yfinance - DEBUG -   Entering get()
2025-03-30 19:53:36,491 - yfinance - DEBUG -    Entering _make_request()
2025-03-30 19:53:36,491 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/WMT
2025-03-30 19:53:36,491 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-30 19:53:36,491 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-30 19:53:36,491 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-30 19:53:36,491 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-30 19:53:36,491 - yfinance - DEBUG - reusing cookie
2025-03-30 19:53:36,491 - yfinance - DEBUG - reusing crumb
2025-03-30 19:53:36,491 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-30 19:53:36,491 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-30 19:53:36,629 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/WMT?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=sQO5vSfFbdD HTTP/1.1" 200 None
2025-03-30 19:53:36,630 - yfinance - DEBUG - response code=200
2025-03-30 19:53:36,630 - yfinance - DEBUG -    Exiting _make_request()
2025-03-30 19:53:36,630 - yfinance - DEBUG -   Exiting get()
2025-03-30 19:53:36,631 - yfinance - DEBUG - WMT: yfinance received OHLC data: 2024-04-01 13:30:00 -> 2025-03-28 13:30:00
2025-03-30 19:53:36,631 - yfinance - DEBUG - WMT: OHLC after cleaning: 2024-04-01 09:30:00-04:00 -> 2025-03-28 09:30:00-04:00
2025-03-30 19:53:36,634 - yfinance - DEBUG - WMT: OHLC after combining events: 2024-04-01 00:00:00-04:00 -> 2025-03-28 00:00:00-04:00
2025-03-30 19:53:36,635 - yfinance - DEBUG - WMT: yfinance returning OHLC: 2024-04-01 00:00:00-04:00 -> 2025-03-28 00:00:00-04:00
2025-03-30 19:53:36,635 - yfinance - DEBUG -  Exiting history()
2025-03-30 19:53:36,635 - yfinance - DEBUG - Exiting history()
2025-03-30 19:53:36,636 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for WMT: 85.1500015258789
2025-03-30 19:53:36,636 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 85.1500015258789 for WMT with TTL=300
2025-03-30 19:53:36,638 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:WMT
2025-03-30 19:53:36,638 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 85.1500015258789 for WMT
2025-03-30 19:53:36,638 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-30 19:53:36,638 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-30 19:53:36,638 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-30 19:53:36,640 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: ZM
2025-03-30 19:53:36,640 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for ZM
2025-03-30 19:53:36,640 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for ZM
2025-03-30 19:53:36,640 - yfinance - DEBUG - Entering history()
2025-03-30 19:53:36,640 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['ZM', 1, 0])
2025-03-30 19:53:36,641 - yfinance - DEBUG -  Entering history()
2025-03-30 19:53:36,641 - yfinance - DEBUG - ZM: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-30 19:53:36,641 - yfinance - DEBUG -   Entering get()
2025-03-30 19:53:36,641 - yfinance - DEBUG -    Entering _make_request()
2025-03-30 19:53:36,641 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/ZM
2025-03-30 19:53:36,641 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-30 19:53:36,641 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-30 19:53:36,641 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-30 19:53:36,641 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-30 19:53:36,641 - yfinance - DEBUG - reusing cookie
2025-03-30 19:53:36,641 - yfinance - DEBUG - reusing crumb
2025-03-30 19:53:36,641 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-30 19:53:36,641 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-30 19:53:36,711 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/ZM?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=sQO5vSfFbdD HTTP/1.1" 200 None
2025-03-30 19:53:36,711 - yfinance - DEBUG - response code=200
2025-03-30 19:53:36,711 - yfinance - DEBUG -    Exiting _make_request()
2025-03-30 19:53:36,711 - yfinance - DEBUG -   Exiting get()
2025-03-30 19:53:36,712 - yfinance - DEBUG - ZM: yfinance received OHLC data: 2024-04-01 13:30:00 -> 2025-03-28 13:30:00
2025-03-30 19:53:36,713 - yfinance - DEBUG - ZM: OHLC after cleaning: 2024-04-01 09:30:00-04:00 -> 2025-03-28 09:30:00-04:00
2025-03-30 19:53:36,715 - yfinance - DEBUG - ZM: OHLC after combining events: 2024-04-01 00:00:00-04:00 -> 2025-03-28 00:00:00-04:00
2025-03-30 19:53:36,715 - yfinance - DEBUG - ZM: yfinance returning OHLC: 2024-04-01 00:00:00-04:00 -> 2025-03-28 00:00:00-04:00
2025-03-30 19:53:36,715 - yfinance - DEBUG -  Exiting history()
2025-03-30 19:53:36,715 - yfinance - DEBUG - Exiting history()
2025-03-30 19:53:36,716 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for ZM: 74.83999633789062
2025-03-30 19:53:36,716 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 74.83999633789062 for ZM with TTL=300
2025-03-30 19:53:36,718 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:ZM
2025-03-30 19:53:36,718 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 74.83999633789062 for ZM
2025-03-30 19:53:36,718 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-30 19:53:36,718 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-30 19:53:36,718 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-30 19:53:36,719 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-30 19:53:36,719 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 543.1199951171875
2025-03-30 19:53:36,720 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 0.9906s
2025-03-30 19:53:40,295 - app.main - INFO - REQUEST: OPTIONS /scenarios/price? from 127.0.0.1
2025-03-30 19:53:40,295 - app.main - INFO - RESPONSE: OPTIONS /scenarios/price - Status: 200 - Time: 0.0003s
2025-03-30 19:53:40,296 - app.main - INFO - REQUEST: POST /scenarios/price? from 127.0.0.1
2025-03-30 19:53:40,298 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-30 19:53:40,298 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-30 19:53:40,299 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-30 19:53:40,299 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 244.0
2025-03-30 19:53:40,435 - app.main - INFO - RESPONSE: POST /scenarios/price - Status: 200 - Time: 0.1394s
