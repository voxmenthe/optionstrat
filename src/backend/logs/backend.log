2025-03-16 13:32:40,624 - app.main - INFO - Backend logging initialized. Log file: /Volumes/bdrive/repos/optionstrat/src/backend/logs/backend.log
2025-03-16 13:32:55,904 - app.main - INFO - REQUEST: POST /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-16 13:32:55,907 - app.main - INFO - RESPONSE: POST /debug/clear-logs - Status: 200 - Time: 0.0027s
2025-03-16 13:32:56,299 - app.main - INFO - REQUEST: OPTIONS /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-16 13:32:56,299 - app.main - INFO - RESPONSE: OPTIONS /debug/clear-logs - Status: 200 - Time: 0.0002s
2025-03-16 13:32:56,300 - app.main - INFO - REQUEST: POST /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-16 13:32:56,301 - app.main - INFO - RESPONSE: POST /debug/clear-logs - Status: 200 - Time: 0.0004s
2025-03-16 13:32:56,374 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-16 13:32:56,380 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:56,380 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:32:56,380 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:32:56,384 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: AAPL
2025-03-16 13:32:56,384 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for AAPL
2025-03-16 13:32:56,384 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for AAPL
2025-03-16 13:32:56,384 - yfinance - DEBUG - Entering history()
2025-03-16 13:32:56,386 - peewee - DEBUG - ('CREATE TABLE IF NOT EXISTS "_kv" ("key" VARCHAR(255) NOT NULL PRIMARY KEY, "value" VARCHAR(255)) WITHOUT ROWID', [])
2025-03-16 13:32:56,386 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['AAPL', 1, 0])
2025-03-16 13:32:56,419 - yfinance - DEBUG -  Entering history()
2025-03-16 13:32:56,419 - yfinance - DEBUG - AAPL: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-16 13:32:56,419 - yfinance - DEBUG -   Entering get()
2025-03-16 13:32:56,419 - yfinance - DEBUG -    Entering _make_request()
2025-03-16 13:32:56,419 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/AAPL
2025-03-16 13:32:56,419 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-16 13:32:56,419 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-16 13:32:56,419 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:32:56,419 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-16 13:32:56,421 - peewee - DEBUG - ('CREATE TABLE IF NOT EXISTS "_cookieschema" ("strategy" VARCHAR(255) NOT NULL PRIMARY KEY, "fetch_date" DATETIME NOT NULL, "cookie_bytes" BLOB NOT NULL) WITHOUT ROWID', [])
2025-03-16 13:32:56,421 - peewee - DEBUG - ('SELECT "t1"."strategy", "t1"."fetch_date", "t1"."cookie_bytes" FROM "_cookieschema" AS "t1" WHERE ("t1"."strategy" = ?) LIMIT ? OFFSET ?', ['basic', 1, 0])
2025-03-16 13:32:56,421 - yfinance - DEBUG - loaded persistent cookie
2025-03-16 13:32:56,421 - yfinance - DEBUG - reusing cookie
2025-03-16 13:32:56,426 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): query1.finance.yahoo.com:443
2025-03-16 13:32:56,521 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v1/test/getcrumb HTTP/1.1" 200 11
2025-03-16 13:32:56,521 - yfinance - DEBUG - crumb = 'IKqTE59qPrl'
2025-03-16 13:32:56,521 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:32:56,521 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-16 13:32:56,522 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): query2.finance.yahoo.com:443
2025-03-16 13:32:56,664 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/AAPL?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=IKqTE59qPrl HTTP/1.1" 200 None
2025-03-16 13:32:56,674 - yfinance - DEBUG - response code=200
2025-03-16 13:32:56,674 - yfinance - DEBUG -    Exiting _make_request()
2025-03-16 13:32:56,674 - yfinance - DEBUG -   Exiting get()
2025-03-16 13:32:56,680 - yfinance - DEBUG - AAPL: yfinance received OHLC data: 2024-03-15 13:30:00 -> 2025-03-14 13:30:00
2025-03-16 13:32:56,685 - yfinance - DEBUG - AAPL: OHLC after cleaning: 2024-03-15 09:30:00-04:00 -> 2025-03-14 09:30:00-04:00
2025-03-16 13:32:56,693 - yfinance - DEBUG - AAPL: OHLC after combining events: 2024-03-15 00:00:00-04:00 -> 2025-03-14 00:00:00-04:00
2025-03-16 13:32:56,694 - yfinance - DEBUG - AAPL: yfinance returning OHLC: 2024-03-15 00:00:00-04:00 -> 2025-03-14 00:00:00-04:00
2025-03-16 13:32:56,694 - yfinance - DEBUG -  Exiting history()
2025-03-16 13:32:56,694 - yfinance - DEBUG - Exiting history()
2025-03-16 13:32:56,697 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for AAPL: 213.49000549316406
2025-03-16 13:32:56,697 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 213.49000549316406 for AAPL with TTL=300
2025-03-16 13:32:56,699 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:AAPL
2025-03-16 13:32:56,699 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 213.49000549316406 for AAPL
2025-03-16 13:32:56,706 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:56,706 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:32:56,706 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:32:56,706 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:32:56,706 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:32:56,706 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:56,706 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:32:56,707 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:32:56,708 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: META
2025-03-16 13:32:56,708 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for META
2025-03-16 13:32:56,709 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for META
2025-03-16 13:32:56,709 - yfinance - DEBUG - Entering history()
2025-03-16 13:32:56,709 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['META', 1, 0])
2025-03-16 13:32:56,709 - yfinance - DEBUG -  Entering history()
2025-03-16 13:32:56,709 - yfinance - DEBUG - META: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-16 13:32:56,709 - yfinance - DEBUG -   Entering get()
2025-03-16 13:32:56,709 - yfinance - DEBUG -    Entering _make_request()
2025-03-16 13:32:56,709 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/META
2025-03-16 13:32:56,709 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-16 13:32:56,709 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-16 13:32:56,709 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:32:56,709 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-16 13:32:56,709 - yfinance - DEBUG - reusing cookie
2025-03-16 13:32:56,709 - yfinance - DEBUG - reusing crumb
2025-03-16 13:32:56,709 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:32:56,709 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-16 13:32:56,804 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/META?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=IKqTE59qPrl HTTP/1.1" 200 None
2025-03-16 13:32:56,805 - yfinance - DEBUG - response code=200
2025-03-16 13:32:56,805 - yfinance - DEBUG -    Exiting _make_request()
2025-03-16 13:32:56,805 - yfinance - DEBUG -   Exiting get()
2025-03-16 13:32:56,806 - yfinance - DEBUG - META: yfinance received OHLC data: 2024-03-15 13:30:00 -> 2025-03-14 13:30:00
2025-03-16 13:32:56,806 - yfinance - DEBUG - META: OHLC after cleaning: 2024-03-15 09:30:00-04:00 -> 2025-03-14 09:30:00-04:00
2025-03-16 13:32:56,809 - yfinance - DEBUG - META: OHLC after combining events: 2024-03-15 00:00:00-04:00 -> 2025-03-14 00:00:00-04:00
2025-03-16 13:32:56,809 - yfinance - DEBUG - META: yfinance returning OHLC: 2024-03-15 00:00:00-04:00 -> 2025-03-14 00:00:00-04:00
2025-03-16 13:32:56,809 - yfinance - DEBUG -  Exiting history()
2025-03-16 13:32:56,809 - yfinance - DEBUG - Exiting history()
2025-03-16 13:32:56,810 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for META: 607.5999755859375
2025-03-16 13:32:56,810 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 607.5999755859375 for META with TTL=300
2025-03-16 13:32:56,812 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:META
2025-03-16 13:32:56,812 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 607.5999755859375 for META
2025-03-16 13:32:56,812 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:56,812 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:32:56,813 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:32:56,813 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:32:56,813 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:32:56,813 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:56,813 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:32:56,813 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:32:56,815 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: IBM
2025-03-16 13:32:56,815 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for IBM
2025-03-16 13:32:56,815 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for IBM
2025-03-16 13:32:56,815 - yfinance - DEBUG - Entering history()
2025-03-16 13:32:56,816 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['IBM', 1, 0])
2025-03-16 13:32:56,816 - yfinance - DEBUG -  Entering history()
2025-03-16 13:32:56,816 - yfinance - DEBUG - IBM: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-16 13:32:56,816 - yfinance - DEBUG -   Entering get()
2025-03-16 13:32:56,816 - yfinance - DEBUG -    Entering _make_request()
2025-03-16 13:32:56,816 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/IBM
2025-03-16 13:32:56,816 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-16 13:32:56,816 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-16 13:32:56,816 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:32:56,816 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-16 13:32:56,816 - yfinance - DEBUG - reusing cookie
2025-03-16 13:32:56,816 - yfinance - DEBUG - reusing crumb
2025-03-16 13:32:56,816 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:32:56,816 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-16 13:32:56,973 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/IBM?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=IKqTE59qPrl HTTP/1.1" 200 None
2025-03-16 13:32:56,973 - yfinance - DEBUG - response code=200
2025-03-16 13:32:56,973 - yfinance - DEBUG -    Exiting _make_request()
2025-03-16 13:32:56,973 - yfinance - DEBUG -   Exiting get()
2025-03-16 13:32:56,974 - yfinance - DEBUG - IBM: yfinance received OHLC data: 2024-03-15 13:30:00 -> 2025-03-14 13:30:00
2025-03-16 13:32:56,974 - yfinance - DEBUG - IBM: OHLC after cleaning: 2024-03-15 09:30:00-04:00 -> 2025-03-14 09:30:00-04:00
2025-03-16 13:32:56,977 - yfinance - DEBUG - IBM: OHLC after combining events: 2024-03-15 00:00:00-04:00 -> 2025-03-14 00:00:00-04:00
2025-03-16 13:32:56,977 - yfinance - DEBUG - IBM: yfinance returning OHLC: 2024-03-15 00:00:00-04:00 -> 2025-03-14 00:00:00-04:00
2025-03-16 13:32:56,977 - yfinance - DEBUG -  Exiting history()
2025-03-16 13:32:56,977 - yfinance - DEBUG - Exiting history()
2025-03-16 13:32:56,978 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for IBM: 248.35000610351562
2025-03-16 13:32:56,978 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 248.35000610351562 for IBM with TTL=300
2025-03-16 13:32:56,980 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:IBM
2025-03-16 13:32:56,980 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 248.35000610351562 for IBM
2025-03-16 13:32:56,983 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:56,983 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:32:56,983 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:32:56,983 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:32:56,984 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:32:56,984 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:56,984 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:32:56,984 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:32:56,984 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:32:56,984 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:32:56,985 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 0.6111s
2025-03-16 13:32:56,988 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-16 13:32:56,989 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:56,989 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:32:56,989 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:32:56,990 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:32:56,990 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:32:56,990 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:56,990 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:32:56,990 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:32:56,990 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:32:56,990 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:32:56,990 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:56,990 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:32:56,990 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:32:56,991 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:32:56,991 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:32:56,991 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:56,991 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:32:56,991 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:32:56,991 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:32:56,991 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:32:56,991 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:56,991 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:32:56,991 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:32:56,991 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:32:56,991 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:32:56,991 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:56,991 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:32:56,991 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:32:56,991 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:32:56,992 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:32:56,992 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:56,992 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:32:56,992 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:32:56,992 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:32:56,992 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:32:56,992 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 0.0042s
2025-03-16 13:32:57,013 - app.main - INFO - REQUEST: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f?force_recalculate=true from 127.0.0.1
2025-03-16 13:32:57,014 - app.main - INFO - REQUEST: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc?force_recalculate=true from 127.0.0.1
2025-03-16 13:32:57,015 - app.main - INFO - REQUEST: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13?force_recalculate=true from 127.0.0.1
2025-03-16 13:32:57,016 - app.main - INFO - REQUEST: GET /greeks/position/f9afd3d6-c8cb-43d3-bab2-59ab7951e06d?force_recalculate=true from 127.0.0.1
2025-03-16 13:32:57,016 - app.main - INFO - REQUEST: GET /greeks/position/8cd6e002-bd24-4add-808e-f47c3b2a0372?force_recalculate=true from 127.0.0.1
2025-03-16 13:32:57,016 - app.main - INFO - REQUEST: GET /greeks/position/81eca42e-b77e-40fd-831f-c1c2c4e5e052?force_recalculate=true from 127.0.0.1
2025-03-16 13:32:57,017 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:57,018 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:57,018 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:57,018 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:57,019 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:57,020 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:57,021 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:32:57,021 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:32:57,022 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:32:57,022 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:32:57,022 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:32:57,022 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:32:57,022 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:32:57,023 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:32:57,023 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:32:57,023 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:32:57,023 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:32:57,023 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:32:57,023 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:32:57,024 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:32:57,024 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:32:57,024 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:32:57,024 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:32:57,025 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:32:57,025 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:32:57,025 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:32:57,025 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:32:57,026 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:32:57,026 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:32:57,026 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:32:57,027 - app.main - INFO - RESPONSE: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc - Status: 200 - Time: 0.0126s
2025-03-16 13:32:57,027 - app.main - INFO - RESPONSE: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13 - Status: 200 - Time: 0.0116s
2025-03-16 13:32:57,028 - app.main - INFO - RESPONSE: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f - Status: 200 - Time: 0.0142s
2025-03-16 13:32:57,028 - app.main - INFO - REQUEST: GET /greeks/position/bb7572db-8c48-4ccd-b863-2384ae4e7881?force_recalculate=true from 127.0.0.1
2025-03-16 13:32:57,029 - app.main - INFO - RESPONSE: GET /greeks/position/8cd6e002-bd24-4add-808e-f47c3b2a0372 - Status: 200 - Time: 0.0131s
2025-03-16 13:32:57,030 - app.main - INFO - RESPONSE: GET /greeks/position/81eca42e-b77e-40fd-831f-c1c2c4e5e052 - Status: 200 - Time: 0.0129s
2025-03-16 13:32:57,030 - app.main - INFO - RESPONSE: GET /greeks/position/f9afd3d6-c8cb-43d3-bab2-59ab7951e06d - Status: 200 - Time: 0.0142s
2025-03-16 13:32:57,030 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:32:57,031 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:32:57,031 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:32:57,031 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:32:57,031 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:32:57,032 - app.main - INFO - RESPONSE: GET /greeks/position/bb7572db-8c48-4ccd-b863-2384ae4e7881 - Status: 200 - Time: 0.0035s
2025-03-16 13:33:08,868 - app.main - INFO - REQUEST: GET /options/search/m?limit=10 from 127.0.0.1
2025-03-16 13:33:08,869 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-16 13:33:08,870 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:08,870 - app.routes.options - INFO - Received ticker search request for query: m, limit: 10
2025-03-16 13:33:08,870 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: m
2025-03-16 13:33:08,871 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: m
2025-03-16 13:33:08,871 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-16 13:33:08,871 - app.services.yfinance_provider - INFO - search_tickers called with query: m
2025-03-16 13:33:08,871 - app.services.yfinance_provider - INFO - Standardized ticker: M
2025-03-16 13:33:08,871 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:M
2025-03-16 13:33:08,872 - app.services.yfinance_provider - INFO - Fetching yfinance data for ticker: M
2025-03-16 13:33:08,872 - app.services.yfinance_provider - INFO - Getting info for ticker: M
2025-03-16 13:33:08,872 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/M
2025-03-16 13:33:08,872 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:08,872 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:08,872 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/M
2025-03-16 13:33:08,872 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'M'}
2025-03-16 13:33:08,872 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:08,872 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:08,872 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:08,872 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:08,872 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:08,872 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:08,872 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:08,932 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v10/finance/quoteSummary/M?modules=financialData%2CquoteType%2CdefaultKeyStatistics%2CassetProfile%2CsummaryDetail&corsDomain=finance.yahoo.com&formatted=false&symbol=M&crumb=IKqTE59qPrl HTTP/1.1" 200 2683
2025-03-16 13:33:08,933 - yfinance - DEBUG - response code=200
2025-03-16 13:33:08,933 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:08,933 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:08,934 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-16 13:33:08,934 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:08,934 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:08,934 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-16 13:33:08,934 - yfinance - DEBUG - params={'symbols': 'M', 'formatted': 'false'}
2025-03-16 13:33:08,934 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:08,934 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:08,934 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:08,934 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:08,934 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:08,934 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:08,934 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:08,987 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v7/finance/quote?symbols=M&formatted=false&crumb=IKqTE59qPrl HTTP/1.1" 200 1117
2025-03-16 13:33:08,988 - yfinance - DEBUG - response code=200
2025-03-16 13:33:08,988 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:08,988 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:08,989 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:08,989 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:08,989 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/M?symbol=M&type=trailingPegRatio&period1=1726358400&period2=1742169600
2025-03-16 13:33:08,989 - yfinance - DEBUG - params=None
2025-03-16 13:33:08,989 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:08,989 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:08,990 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:08,990 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:08,990 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:08,990 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:08,990 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:09,028 - app.main - INFO - REQUEST: GET /options/search/me?limit=10 from 127.0.0.1
2025-03-16 13:33:09,029 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-16 13:33:09,029 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:09,030 - app.routes.options - INFO - Received ticker search request for query: me, limit: 10
2025-03-16 13:33:09,030 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: me
2025-03-16 13:33:09,030 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: me
2025-03-16 13:33:09,030 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-16 13:33:09,030 - app.services.yfinance_provider - INFO - search_tickers called with query: me
2025-03-16 13:33:09,030 - app.services.yfinance_provider - INFO - Standardized ticker: ME
2025-03-16 13:33:09,030 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:ME
2025-03-16 13:33:09,031 - app.services.yfinance_provider - INFO - Fetching yfinance data for ticker: ME
2025-03-16 13:33:09,032 - app.services.yfinance_provider - INFO - Getting info for ticker: ME
2025-03-16 13:33:09,032 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/ME
2025-03-16 13:33:09,032 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:09,032 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:09,032 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/ME
2025-03-16 13:33:09,032 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'ME'}
2025-03-16 13:33:09,032 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:09,032 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:09,032 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,032 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:09,032 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:09,032 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,032 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:09,037 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /ws/fundamentals-timeseries/v1/finance/timeseries/M?symbol=M&type=trailingPegRatio&period1=1726358400&period2=1742169600&crumb=IKqTE59qPrl HTTP/1.1" 200 358
2025-03-16 13:33:09,037 - yfinance - DEBUG - response code=200
2025-03-16 13:33:09,037 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:09,037 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:09,037 - app.services.yfinance_provider - INFO - Got info for ticker M: True
2025-03-16 13:33:09,037 - app.services.yfinance_provider - INFO - Valid ticker found: M
2025-03-16 13:33:09,039 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:ticker_validation:M
2025-03-16 13:33:09,039 - app.services.market_data - INFO - Provider returned results: ['M']
2025-03-16 13:33:09,039 - app.routes.options - INFO - Received results from market_data_service: ['M']
2025-03-16 13:33:09,039 - app.routes.options - INFO - Returning limited results: ['M']
2025-03-16 13:33:09,040 - app.main - INFO - RESPONSE: GET /options/search/m - Status: 200 - Time: 0.1712s
2025-03-16 13:33:09,085 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v10/finance/quoteSummary/ME?modules=financialData%2CquoteType%2CdefaultKeyStatistics%2CassetProfile%2CsummaryDetail&corsDomain=finance.yahoo.com&formatted=false&symbol=ME&crumb=IKqTE59qPrl HTTP/1.1" 200 2948
2025-03-16 13:33:09,085 - yfinance - DEBUG - response code=200
2025-03-16 13:33:09,086 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:09,086 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:09,086 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-16 13:33:09,086 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:09,086 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:09,086 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-16 13:33:09,086 - yfinance - DEBUG - params={'symbols': 'ME', 'formatted': 'false'}
2025-03-16 13:33:09,086 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:09,086 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:09,086 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,086 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:09,086 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:09,087 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,087 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:09,138 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v7/finance/quote?symbols=ME&formatted=false&crumb=IKqTE59qPrl HTTP/1.1" 200 1077
2025-03-16 13:33:09,139 - yfinance - DEBUG - response code=200
2025-03-16 13:33:09,139 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:09,139 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:09,141 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:09,141 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:09,141 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/ME?symbol=ME&type=trailingPegRatio&period1=1726358400&period2=1742169600
2025-03-16 13:33:09,141 - yfinance - DEBUG - params=None
2025-03-16 13:33:09,141 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:09,141 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:09,142 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,142 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:09,142 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:09,142 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,142 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:09,190 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /ws/fundamentals-timeseries/v1/finance/timeseries/ME?symbol=ME&type=trailingPegRatio&period1=1726358400&period2=1742169600&crumb=IKqTE59qPrl HTTP/1.1" 200 95
2025-03-16 13:33:09,191 - yfinance - DEBUG - response code=200
2025-03-16 13:33:09,191 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:09,191 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:09,191 - app.services.yfinance_provider - INFO - Got info for ticker ME: True
2025-03-16 13:33:09,191 - app.services.yfinance_provider - INFO - Valid ticker found: ME
2025-03-16 13:33:09,195 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:ticker_validation:ME
2025-03-16 13:33:09,195 - app.services.market_data - INFO - Provider returned results: ['ME']
2025-03-16 13:33:09,195 - app.routes.options - INFO - Received results from market_data_service: ['ME']
2025-03-16 13:33:09,195 - app.routes.options - INFO - Returning limited results: ['ME']
2025-03-16 13:33:09,196 - app.main - INFO - RESPONSE: GET /options/search/me - Status: 200 - Time: 0.1679s
2025-03-16 13:33:09,222 - app.main - INFO - REQUEST: GET /options/search/met?limit=10 from 127.0.0.1
2025-03-16 13:33:09,223 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-16 13:33:09,223 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:09,223 - app.routes.options - INFO - Received ticker search request for query: met, limit: 10
2025-03-16 13:33:09,223 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: met
2025-03-16 13:33:09,223 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: met
2025-03-16 13:33:09,224 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-16 13:33:09,224 - app.services.yfinance_provider - INFO - search_tickers called with query: met
2025-03-16 13:33:09,224 - app.services.yfinance_provider - INFO - Standardized ticker: MET
2025-03-16 13:33:09,224 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:MET
2025-03-16 13:33:09,225 - app.services.yfinance_provider - INFO - Fetching yfinance data for ticker: MET
2025-03-16 13:33:09,225 - app.services.yfinance_provider - INFO - Getting info for ticker: MET
2025-03-16 13:33:09,225 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/MET
2025-03-16 13:33:09,225 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:09,225 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:09,225 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/MET
2025-03-16 13:33:09,225 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'MET'}
2025-03-16 13:33:09,225 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:09,225 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:09,225 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,225 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:09,225 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:09,225 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,225 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:09,280 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v10/finance/quoteSummary/MET?modules=financialData%2CquoteType%2CdefaultKeyStatistics%2CassetProfile%2CsummaryDetail&corsDomain=finance.yahoo.com&formatted=false&symbol=MET&crumb=IKqTE59qPrl HTTP/1.1" 200 None
2025-03-16 13:33:09,281 - yfinance - DEBUG - response code=200
2025-03-16 13:33:09,281 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:09,281 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:09,281 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-16 13:33:09,281 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:09,281 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:09,281 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-16 13:33:09,281 - yfinance - DEBUG - params={'symbols': 'MET', 'formatted': 'false'}
2025-03-16 13:33:09,281 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:09,282 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:09,282 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,282 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:09,282 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:09,282 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,282 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:09,387 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v7/finance/quote?symbols=MET&formatted=false&crumb=IKqTE59qPrl HTTP/1.1" 200 1145
2025-03-16 13:33:09,388 - yfinance - DEBUG - response code=200
2025-03-16 13:33:09,388 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:09,388 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:09,389 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:09,390 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:09,390 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/MET?symbol=MET&type=trailingPegRatio&period1=1726358400&period2=1742169600
2025-03-16 13:33:09,390 - yfinance - DEBUG - params=None
2025-03-16 13:33:09,390 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:09,390 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:09,390 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,390 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:09,390 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:09,390 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,390 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:09,446 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /ws/fundamentals-timeseries/v1/finance/timeseries/MET?symbol=MET&type=trailingPegRatio&period1=1726358400&period2=1742169600&crumb=IKqTE59qPrl HTTP/1.1" 200 361
2025-03-16 13:33:09,447 - yfinance - DEBUG - response code=200
2025-03-16 13:33:09,447 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:09,448 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:09,448 - app.services.yfinance_provider - INFO - Got info for ticker MET: True
2025-03-16 13:33:09,448 - app.services.yfinance_provider - INFO - Valid ticker found: MET
2025-03-16 13:33:09,452 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:ticker_validation:MET
2025-03-16 13:33:09,452 - app.services.market_data - INFO - Provider returned results: ['MET']
2025-03-16 13:33:09,452 - app.routes.options - INFO - Received results from market_data_service: ['MET']
2025-03-16 13:33:09,452 - app.routes.options - INFO - Returning limited results: ['MET']
2025-03-16 13:33:09,453 - app.main - INFO - RESPONSE: GET /options/search/met - Status: 200 - Time: 0.2310s
2025-03-16 13:33:09,476 - app.main - INFO - REQUEST: GET /options/search/meta?limit=10 from 127.0.0.1
2025-03-16 13:33:09,477 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-16 13:33:09,477 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:09,478 - app.routes.options - INFO - Received ticker search request for query: meta, limit: 10
2025-03-16 13:33:09,478 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: meta
2025-03-16 13:33:09,478 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: meta
2025-03-16 13:33:09,478 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-16 13:33:09,478 - app.services.yfinance_provider - INFO - search_tickers called with query: meta
2025-03-16 13:33:09,478 - app.services.yfinance_provider - INFO - Standardized ticker: META
2025-03-16 13:33:09,478 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:META
2025-03-16 13:33:09,479 - app.services.yfinance_provider - INFO - Fetching yfinance data for ticker: META
2025-03-16 13:33:09,479 - app.services.yfinance_provider - INFO - Getting info for ticker: META
2025-03-16 13:33:09,479 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/META
2025-03-16 13:33:09,479 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:09,480 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:09,480 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/META
2025-03-16 13:33:09,480 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'META'}
2025-03-16 13:33:09,480 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:09,480 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:09,480 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,480 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:09,480 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:09,480 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,480 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:09,543 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v10/finance/quoteSummary/META?modules=financialData%2CquoteType%2CdefaultKeyStatistics%2CassetProfile%2CsummaryDetail&corsDomain=finance.yahoo.com&formatted=false&symbol=META&crumb=IKqTE59qPrl HTTP/1.1" 200 3006
2025-03-16 13:33:09,544 - yfinance - DEBUG - response code=200
2025-03-16 13:33:09,544 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:09,544 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:09,544 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-16 13:33:09,544 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:09,544 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:09,545 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-16 13:33:09,545 - yfinance - DEBUG - params={'symbols': 'META', 'formatted': 'false'}
2025-03-16 13:33:09,545 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:09,545 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:09,545 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,545 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:09,545 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:09,545 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,545 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:09,602 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v7/finance/quote?symbols=META&formatted=false&crumb=IKqTE59qPrl HTTP/1.1" 200 1215
2025-03-16 13:33:09,603 - yfinance - DEBUG - response code=200
2025-03-16 13:33:09,603 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:09,603 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:09,605 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:09,605 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:09,605 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/META?symbol=META&type=trailingPegRatio&period1=1726358400&period2=1742169600
2025-03-16 13:33:09,605 - yfinance - DEBUG - params=None
2025-03-16 13:33:09,605 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:09,605 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:09,605 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,605 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:09,605 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:09,605 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:09,606 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:09,654 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /ws/fundamentals-timeseries/v1/finance/timeseries/META?symbol=META&type=trailingPegRatio&period1=1726358400&period2=1742169600&crumb=IKqTE59qPrl HTTP/1.1" 200 362
2025-03-16 13:33:09,655 - yfinance - DEBUG - response code=200
2025-03-16 13:33:09,655 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:09,655 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:09,655 - app.services.yfinance_provider - INFO - Got info for ticker META: True
2025-03-16 13:33:09,655 - app.services.yfinance_provider - INFO - Valid ticker found: META
2025-03-16 13:33:09,660 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:ticker_validation:META
2025-03-16 13:33:09,660 - app.services.market_data - INFO - Provider returned results: ['META']
2025-03-16 13:33:09,660 - app.routes.options - INFO - Received results from market_data_service: ['META']
2025-03-16 13:33:09,660 - app.routes.options - INFO - Returning limited results: ['META']
2025-03-16 13:33:09,661 - app.main - INFO - RESPONSE: GET /options/search/meta - Status: 200 - Time: 0.1839s
2025-03-16 13:33:10,619 - app.main - INFO - REQUEST: GET /options/search/met?limit=10 from 127.0.0.1
2025-03-16 13:33:10,620 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-16 13:33:10,620 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:10,621 - app.routes.options - INFO - Received ticker search request for query: met, limit: 10
2025-03-16 13:33:10,621 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: met
2025-03-16 13:33:10,621 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: met
2025-03-16 13:33:10,621 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-16 13:33:10,621 - app.services.yfinance_provider - INFO - search_tickers called with query: met
2025-03-16 13:33:10,621 - app.services.yfinance_provider - INFO - Standardized ticker: MET
2025-03-16 13:33:10,621 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:MET
2025-03-16 13:33:10,622 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:ticker_validation:MET
2025-03-16 13:33:10,622 - app.services.yfinance_provider - INFO - Cache hit for yfinance:ticker_validation:MET: ['MET']
2025-03-16 13:33:10,622 - app.services.market_data - INFO - Provider returned results: ['MET']
2025-03-16 13:33:10,622 - app.routes.options - INFO - Received results from market_data_service: ['MET']
2025-03-16 13:33:10,622 - app.routes.options - INFO - Returning limited results: ['MET']
2025-03-16 13:33:10,623 - app.main - INFO - RESPONSE: GET /options/search/met - Status: 200 - Time: 0.0040s
2025-03-16 13:33:10,814 - app.main - INFO - REQUEST: GET /options/search/me?limit=10 from 127.0.0.1
2025-03-16 13:33:10,815 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-16 13:33:10,815 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:10,815 - app.routes.options - INFO - Received ticker search request for query: me, limit: 10
2025-03-16 13:33:10,816 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: me
2025-03-16 13:33:10,816 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: me
2025-03-16 13:33:10,816 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-16 13:33:10,816 - app.services.yfinance_provider - INFO - search_tickers called with query: me
2025-03-16 13:33:10,816 - app.services.yfinance_provider - INFO - Standardized ticker: ME
2025-03-16 13:33:10,816 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:ME
2025-03-16 13:33:10,817 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:ticker_validation:ME
2025-03-16 13:33:10,817 - app.services.yfinance_provider - INFO - Cache hit for yfinance:ticker_validation:ME: ['ME']
2025-03-16 13:33:10,817 - app.services.market_data - INFO - Provider returned results: ['ME']
2025-03-16 13:33:10,817 - app.routes.options - INFO - Received results from market_data_service: ['ME']
2025-03-16 13:33:10,817 - app.routes.options - INFO - Returning limited results: ['ME']
2025-03-16 13:33:10,818 - app.main - INFO - RESPONSE: GET /options/search/me - Status: 200 - Time: 0.0039s
2025-03-16 13:33:10,964 - app.main - INFO - REQUEST: GET /options/search/m?limit=10 from 127.0.0.1
2025-03-16 13:33:10,965 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-16 13:33:10,965 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:10,965 - app.routes.options - INFO - Received ticker search request for query: m, limit: 10
2025-03-16 13:33:10,965 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: m
2025-03-16 13:33:10,965 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: m
2025-03-16 13:33:10,965 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-16 13:33:10,966 - app.services.yfinance_provider - INFO - search_tickers called with query: m
2025-03-16 13:33:10,966 - app.services.yfinance_provider - INFO - Standardized ticker: M
2025-03-16 13:33:10,966 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:M
2025-03-16 13:33:10,967 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:ticker_validation:M
2025-03-16 13:33:10,967 - app.services.yfinance_provider - INFO - Cache hit for yfinance:ticker_validation:M: ['M']
2025-03-16 13:33:10,967 - app.services.market_data - INFO - Provider returned results: ['M']
2025-03-16 13:33:10,967 - app.routes.options - INFO - Received results from market_data_service: ['M']
2025-03-16 13:33:10,967 - app.routes.options - INFO - Returning limited results: ['M']
2025-03-16 13:33:10,967 - app.main - INFO - RESPONSE: GET /options/search/m - Status: 200 - Time: 0.0036s
2025-03-16 13:33:12,149 - app.main - INFO - REQUEST: GET /options/search/g?limit=10 from 127.0.0.1
2025-03-16 13:33:12,150 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-16 13:33:12,150 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:12,150 - app.routes.options - INFO - Received ticker search request for query: g, limit: 10
2025-03-16 13:33:12,150 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: g
2025-03-16 13:33:12,150 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: g
2025-03-16 13:33:12,150 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-16 13:33:12,150 - app.services.yfinance_provider - INFO - search_tickers called with query: g
2025-03-16 13:33:12,151 - app.services.yfinance_provider - INFO - Standardized ticker: G
2025-03-16 13:33:12,151 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:G
2025-03-16 13:33:12,152 - app.services.yfinance_provider - INFO - Fetching yfinance data for ticker: G
2025-03-16 13:33:12,152 - app.services.yfinance_provider - INFO - Getting info for ticker: G
2025-03-16 13:33:12,152 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/G
2025-03-16 13:33:12,152 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:12,152 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:12,152 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/G
2025-03-16 13:33:12,152 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'G'}
2025-03-16 13:33:12,152 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:12,152 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:12,152 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:12,152 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:12,152 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:12,152 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:12,152 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:12,205 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v10/finance/quoteSummary/G?modules=financialData%2CquoteType%2CdefaultKeyStatistics%2CassetProfile%2CsummaryDetail&corsDomain=finance.yahoo.com&formatted=false&symbol=G&crumb=IKqTE59qPrl HTTP/1.1" 200 3107
2025-03-16 13:33:12,205 - yfinance - DEBUG - response code=200
2025-03-16 13:33:12,205 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:12,205 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:12,206 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-16 13:33:12,206 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:12,206 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:12,206 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-16 13:33:12,206 - yfinance - DEBUG - params={'symbols': 'G', 'formatted': 'false'}
2025-03-16 13:33:12,206 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:12,206 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:12,206 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:12,206 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:12,206 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:12,206 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:12,206 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:12,258 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v7/finance/quote?symbols=G&formatted=false&crumb=IKqTE59qPrl HTTP/1.1" 200 1115
2025-03-16 13:33:12,259 - yfinance - DEBUG - response code=200
2025-03-16 13:33:12,259 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:12,259 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:12,261 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:12,261 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:12,261 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/G?symbol=G&type=trailingPegRatio&period1=1726358400&period2=1742169600
2025-03-16 13:33:12,261 - yfinance - DEBUG - params=None
2025-03-16 13:33:12,261 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:12,261 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:12,262 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:12,262 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:12,262 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:12,262 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:12,262 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:12,310 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /ws/fundamentals-timeseries/v1/finance/timeseries/G?symbol=G&type=trailingPegRatio&period1=1726358400&period2=1742169600&crumb=IKqTE59qPrl HTTP/1.1" 200 94
2025-03-16 13:33:12,311 - yfinance - DEBUG - response code=200
2025-03-16 13:33:12,311 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:12,311 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:12,311 - app.services.yfinance_provider - INFO - Got info for ticker G: True
2025-03-16 13:33:12,311 - app.services.yfinance_provider - INFO - Valid ticker found: G
2025-03-16 13:33:12,315 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:ticker_validation:G
2025-03-16 13:33:12,315 - app.services.market_data - INFO - Provider returned results: ['G']
2025-03-16 13:33:12,315 - app.routes.options - INFO - Received results from market_data_service: ['G']
2025-03-16 13:33:12,315 - app.routes.options - INFO - Returning limited results: ['G']
2025-03-16 13:33:12,316 - app.main - INFO - RESPONSE: GET /options/search/g - Status: 200 - Time: 0.1674s
2025-03-16 13:33:12,403 - app.main - INFO - REQUEST: GET /options/search/gs?limit=10 from 127.0.0.1
2025-03-16 13:33:12,404 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-16 13:33:12,404 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:12,405 - app.routes.options - INFO - Received ticker search request for query: gs, limit: 10
2025-03-16 13:33:12,405 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: gs
2025-03-16 13:33:12,405 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: gs
2025-03-16 13:33:12,405 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-16 13:33:12,405 - app.services.yfinance_provider - INFO - search_tickers called with query: gs
2025-03-16 13:33:12,405 - app.services.yfinance_provider - INFO - Standardized ticker: GS
2025-03-16 13:33:12,405 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:GS
2025-03-16 13:33:12,406 - app.services.yfinance_provider - INFO - Fetching yfinance data for ticker: GS
2025-03-16 13:33:12,407 - app.services.yfinance_provider - INFO - Getting info for ticker: GS
2025-03-16 13:33:12,407 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/GS
2025-03-16 13:33:12,407 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:12,407 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:12,407 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/GS
2025-03-16 13:33:12,407 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'GS'}
2025-03-16 13:33:12,407 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:12,407 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:12,407 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:12,407 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:12,407 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:12,407 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:12,407 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:12,531 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v10/finance/quoteSummary/GS?modules=financialData%2CquoteType%2CdefaultKeyStatistics%2CassetProfile%2CsummaryDetail&corsDomain=finance.yahoo.com&formatted=false&symbol=GS&crumb=IKqTE59qPrl HTTP/1.1" 200 3130
2025-03-16 13:33:12,531 - yfinance - DEBUG - response code=200
2025-03-16 13:33:12,531 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:12,531 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:12,531 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-16 13:33:12,532 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:12,532 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:12,532 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-16 13:33:12,532 - yfinance - DEBUG - params={'symbols': 'GS', 'formatted': 'false'}
2025-03-16 13:33:12,532 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:12,532 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:12,532 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:12,532 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:12,532 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:12,532 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:12,532 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:12,578 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v7/finance/quote?symbols=GS&formatted=false&crumb=IKqTE59qPrl HTTP/1.1" 200 1163
2025-03-16 13:33:12,579 - yfinance - DEBUG - response code=200
2025-03-16 13:33:12,580 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:12,580 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:12,581 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:12,581 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:12,581 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/GS?symbol=GS&type=trailingPegRatio&period1=1726358400&period2=1742169600
2025-03-16 13:33:12,581 - yfinance - DEBUG - params=None
2025-03-16 13:33:12,581 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:12,581 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:12,581 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:12,581 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:12,582 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:12,582 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:12,582 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:12,640 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /ws/fundamentals-timeseries/v1/finance/timeseries/GS?symbol=GS&type=trailingPegRatio&period1=1726358400&period2=1742169600&crumb=IKqTE59qPrl HTTP/1.1" 200 360
2025-03-16 13:33:12,641 - yfinance - DEBUG - response code=200
2025-03-16 13:33:12,641 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:12,641 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:12,642 - app.services.yfinance_provider - INFO - Got info for ticker GS: True
2025-03-16 13:33:12,642 - app.services.yfinance_provider - INFO - Valid ticker found: GS
2025-03-16 13:33:12,646 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:ticker_validation:GS
2025-03-16 13:33:12,647 - app.services.market_data - INFO - Provider returned results: ['GS']
2025-03-16 13:33:12,647 - app.routes.options - INFO - Received results from market_data_service: ['GS']
2025-03-16 13:33:12,647 - app.routes.options - INFO - Returning limited results: ['GS']
2025-03-16 13:33:12,648 - app.main - INFO - RESPONSE: GET /options/search/gs - Status: 200 - Time: 0.2442s
2025-03-16 13:33:17,402 - app.main - INFO - REQUEST: GET /options/chains/GS/expirations? from 127.0.0.1
2025-03-16 13:33:17,403 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-16 13:33:17,403 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:17,404 - app.dependencies - DEBUG - Creating new OptionChainService instance with MarketDataService
2025-03-16 13:33:17,404 - app.routes.options - INFO - Getting expirations for ticker: GS
2025-03-16 13:33:17,405 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:17,405 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:17,405 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v7/finance/options/GS
2025-03-16 13:33:17,405 - yfinance - DEBUG - params=None
2025-03-16 13:33:17,405 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:17,405 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:17,406 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:17,406 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:17,406 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:17,406 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:17,406 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:17,485 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v7/finance/options/GS?crumb=IKqTE59qPrl HTTP/1.1" 200 None
2025-03-16 13:33:17,496 - yfinance - DEBUG - response code=200
2025-03-16 13:33:17,497 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:17,497 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:17,504 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:option_expirations:GS
2025-03-16 13:33:17,505 - app.routes.options - INFO - Found 19 expirations for GS
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2025-03-21 00:00:00, days to expiration: 5
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2025-03-28 00:00:00, days to expiration: 12
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2025-04-04 00:00:00, days to expiration: 19
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2025-04-11 00:00:00, days to expiration: 26
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2025-04-17 00:00:00, days to expiration: 32
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2025-04-25 00:00:00, days to expiration: 40
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2025-05-16 00:00:00, days to expiration: 61
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2025-06-20 00:00:00, days to expiration: 96
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2025-07-18 00:00:00, days to expiration: 124
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2025-08-15 00:00:00, days to expiration: 152
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2025-09-19 00:00:00, days to expiration: 187
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2025-10-17 00:00:00, days to expiration: 215
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2025-12-19 00:00:00, days to expiration: 278
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2026-01-16 00:00:00, days to expiration: 306
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2026-03-20 00:00:00, days to expiration: 369
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2026-06-18 00:00:00, days to expiration: 459
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2026-12-18 00:00:00, days to expiration: 642
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2027-01-15 00:00:00, days to expiration: 670
2025-03-16 13:33:17,505 - app.routes.options - INFO - Expiration: 2027-06-17 00:00:00, days to expiration: 823
2025-03-16 13:33:17,505 - app.main - INFO - RESPONSE: GET /options/chains/GS/expirations - Status: 200 - Time: 0.1034s
2025-03-16 13:33:17,511 - app.main - INFO - REQUEST: GET /options/chains/GS/2025-03-21? from 127.0.0.1
2025-03-16 13:33:17,511 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-16 13:33:17,511 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:17,512 - app.dependencies - DEBUG - Creating new OptionChainService instance with MarketDataService
2025-03-16 13:33:17,512 - app.routes.options - INFO - Getting options for ticker: GS, expiration: 2025-03-21, type: None
2025-03-16 13:33:17,512 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_option_chain called for ticker: GS, expiration: 2025-03-21 00:00:00
2025-03-16 13:33:17,512 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Cache key: yfinance:option_chain:GS:2025-03-21 00:00:00
2025-03-16 13:33:17,512 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking for cached data with key: yfinance:option_chain:GS:2025-03-21 00:00:00
2025-03-16 13:33:17,513 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for GS
2025-03-16 13:33:17,513 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Fetching available expirations for GS
2025-03-16 13:33:17,513 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:17,513 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:17,513 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v7/finance/options/GS
2025-03-16 13:33:17,513 - yfinance - DEBUG - params=None
2025-03-16 13:33:17,513 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:17,513 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:17,513 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:17,513 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:17,513 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:17,513 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:17,513 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:17,528 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v7/finance/options/GS?crumb=IKqTE59qPrl HTTP/1.1" 200 9869
2025-03-16 13:33:17,529 - yfinance - DEBUG - response code=200
2025-03-16 13:33:17,529 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:17,529 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:17,531 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Found 19 expirations for GS
2025-03-16 13:33:17,531 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:17,531 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:17,531 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v7/finance/options/GS?date=1742515200
2025-03-16 13:33:17,531 - yfinance - DEBUG - params=None
2025-03-16 13:33:17,531 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:17,531 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:17,531 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:17,531 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:17,531 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:17,531 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:17,531 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:17,606 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v7/finance/options/GS?date=1742515200&crumb=IKqTE59qPrl HTTP/1.1" 200 None
2025-03-16 13:33:17,607 - yfinance - DEBUG - response code=200
2025-03-16 13:33:17,608 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:17,608 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:17,619 - app.services.yfinance_provider - INFO - Sample option data structure: {'contractSymbol': 'GS250321C00195000', 'lastTradeDate': 1741185010000, 'strike': 195.0, 'lastPrice': 388.23, 'bid': 344.45, 'ask': 350.35, 'change': 0.0, 'percentChange': 0.0, 'volume': 1.0, 'openInterest': 1, 'impliedVolatility': 3.7880864673, 'inTheMoney': True, 'contractSize': 'REGULAR', 'currency': 'USD', 'optionType': 'call', 'underlying': 'GS', 'expiration_date': '2025-03-21'}
2025-03-16 13:33:17,619 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Getting underlying price for GS before processing options
2025-03-16 13:33:17,619 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-16 13:33:17,619 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-16 13:33:17,620 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: GS
2025-03-16 13:33:17,620 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for GS
2025-03-16 13:33:17,620 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for GS
2025-03-16 13:33:17,620 - yfinance - DEBUG - Entering history()
2025-03-16 13:33:17,620 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['GS', 1, 0])
2025-03-16 13:33:17,621 - yfinance - DEBUG -  Entering history()
2025-03-16 13:33:17,621 - yfinance - DEBUG - GS: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-16 13:33:17,621 - yfinance - DEBUG -   Entering get()
2025-03-16 13:33:17,621 - yfinance - DEBUG -    Entering _make_request()
2025-03-16 13:33:17,621 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/GS
2025-03-16 13:33:17,621 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-16 13:33:17,621 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-16 13:33:17,621 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:17,621 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:17,621 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:17,621 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:17,621 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:17,621 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-16 13:33:17,776 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/GS?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=IKqTE59qPrl HTTP/1.1" 200 None
2025-03-16 13:33:17,776 - yfinance - DEBUG - response code=200
2025-03-16 13:33:17,776 - yfinance - DEBUG -    Exiting _make_request()
2025-03-16 13:33:17,777 - yfinance - DEBUG -   Exiting get()
2025-03-16 13:33:17,779 - yfinance - DEBUG - GS: yfinance received OHLC data: 2024-03-15 13:30:00 -> 2025-03-14 13:30:00
2025-03-16 13:33:17,780 - yfinance - DEBUG - GS: OHLC after cleaning: 2024-03-15 09:30:00-04:00 -> 2025-03-14 09:30:00-04:00
2025-03-16 13:33:17,785 - yfinance - DEBUG - GS: OHLC after combining events: 2024-03-15 00:00:00-04:00 -> 2025-03-14 00:00:00-04:00
2025-03-16 13:33:17,785 - yfinance - DEBUG - GS: yfinance returning OHLC: 2024-03-15 00:00:00-04:00 -> 2025-03-14 00:00:00-04:00
2025-03-16 13:33:17,785 - yfinance - DEBUG -  Exiting history()
2025-03-16 13:33:17,785 - yfinance - DEBUG - Exiting history()
2025-03-16 13:33:17,786 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for GS: 541.4099731445312
2025-03-16 13:33:17,786 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 541.4099731445312 for GS with TTL=300
2025-03-16 13:33:17,788 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:GS
2025-03-16 13:33:17,788 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 541.4099731445312 for GS
2025-03-16 13:33:17,788 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Retrieved underlying price for GS: 541.4099731445312
2025-03-16 13:33:17,788 - app.services.yfinance_provider - DEBUG - Sample option keys: dict_keys(['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'optionType', 'underlying', 'expiration_date'])
2025-03-16 13:33:17,788 - app.services.yfinance_provider - DEBUG - Sample standardized option: {'ticker': 'GS', 'expiration': '2025-03-21T00:00:00', 'strike': 195.0, 'option_type': 'call', 'bid': 344.45, 'ask': 350.35, 'last': 388.23, 'volume': 1, 'open_interest': 1, 'implied_volatility': 3.7880864673, 'delta': None, 'gamma': None, 'theta': None, 'vega': None, 'rho': None, 'in_the_money': True, 'underlying_price': 541.4099731445312}
2025-03-16 13:33:17,791 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:option_chain:GS:2025-03-21 00:00:00
2025-03-16 13:33:17,791 - app.routes.options - INFO - Found 198 options for GS expiring on 2025-03-21
2025-03-16 13:33:17,791 - app.routes.options - INFO - Returning 198 options after filtering
2025-03-16 13:33:17,793 - app.main - INFO - RESPONSE: GET /options/chains/GS/2025-03-21 - Status: 200 - Time: 0.2819s
2025-03-16 13:33:21,303 - app.main - INFO - REQUEST: OPTIONS /debug/log? from 127.0.0.1
2025-03-16 13:33:21,304 - app.main - INFO - RESPONSE: OPTIONS /debug/log - Status: 200 - Time: 0.0003s
2025-03-16 13:33:21,306 - app.main - INFO - REQUEST: POST /debug/log? from 127.0.0.1
2025-03-16 13:33:21,309 - app.main - INFO - RESPONSE: POST /debug/log - Status: 200 - Time: 0.0027s
2025-03-16 13:33:22,386 - app.main - INFO - REQUEST: GET /options/chains/GS/2025-04-17? from 127.0.0.1
2025-03-16 13:33:22,387 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-16 13:33:22,387 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:22,387 - app.dependencies - DEBUG - Creating new OptionChainService instance with MarketDataService
2025-03-16 13:33:22,388 - app.routes.options - INFO - Getting options for ticker: GS, expiration: 2025-04-17, type: None
2025-03-16 13:33:22,388 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_option_chain called for ticker: GS, expiration: 2025-04-17 00:00:00
2025-03-16 13:33:22,388 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Cache key: yfinance:option_chain:GS:2025-04-17 00:00:00
2025-03-16 13:33:22,388 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking for cached data with key: yfinance:option_chain:GS:2025-04-17 00:00:00
2025-03-16 13:33:22,390 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for GS
2025-03-16 13:33:22,390 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Fetching available expirations for GS
2025-03-16 13:33:22,390 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:22,390 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:22,390 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v7/finance/options/GS
2025-03-16 13:33:22,390 - yfinance - DEBUG - params=None
2025-03-16 13:33:22,390 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:22,390 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:22,390 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:22,390 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:22,390 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:22,390 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:22,390 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:22,493 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v7/finance/options/GS?crumb=IKqTE59qPrl HTTP/1.1" 200 None
2025-03-16 13:33:22,509 - yfinance - DEBUG - response code=200
2025-03-16 13:33:22,509 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:22,509 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:22,512 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Found 19 expirations for GS
2025-03-16 13:33:22,513 - yfinance - DEBUG - Entering get()
2025-03-16 13:33:22,513 - yfinance - DEBUG -  Entering _make_request()
2025-03-16 13:33:22,513 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v7/finance/options/GS?date=1744848000
2025-03-16 13:33:22,513 - yfinance - DEBUG - params=None
2025-03-16 13:33:22,513 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-16 13:33:22,513 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-16 13:33:22,513 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-16 13:33:22,513 - yfinance - DEBUG - reusing cookie
2025-03-16 13:33:22,513 - yfinance - DEBUG - reusing crumb
2025-03-16 13:33:22,513 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-16 13:33:22,513 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-16 13:33:22,594 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v7/finance/options/GS?date=1744848000&crumb=IKqTE59qPrl HTTP/1.1" 200 None
2025-03-16 13:33:22,596 - yfinance - DEBUG - response code=200
2025-03-16 13:33:22,596 - yfinance - DEBUG -  Exiting _make_request()
2025-03-16 13:33:22,597 - yfinance - DEBUG - Exiting get()
2025-03-16 13:33:22,608 - app.services.yfinance_provider - INFO - Sample option data structure: {'contractSymbol': 'GS250417C00250000', 'lastTradeDate': 1732641481000, 'strike': 250.0, 'lastPrice': 350.0, 'bid': 326.1, 'ask': 330.15, 'change': 0.0, 'percentChange': 0.0, 'volume': None, 'openInterest': 1, 'impliedVolatility': 3.100038871, 'inTheMoney': True, 'contractSize': 'REGULAR', 'currency': 'USD', 'optionType': 'call', 'underlying': 'GS', 'expiration_date': '2025-04-17'}
2025-03-16 13:33:22,608 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Getting underlying price for GS before processing options
2025-03-16 13:33:22,608 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-16 13:33:22,608 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-16 13:33:22,608 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-16 13:33:22,608 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 541.4099731445312
2025-03-16 13:33:22,609 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Retrieved underlying price for GS: 541.4099731445312
2025-03-16 13:33:22,609 - app.services.yfinance_provider - DEBUG - Sample option keys: dict_keys(['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'optionType', 'underlying', 'expiration_date'])
2025-03-16 13:33:22,609 - app.services.yfinance_provider - DEBUG - Sample standardized option: {'ticker': 'GS', 'expiration': '2025-04-17T00:00:00', 'strike': 250.0, 'option_type': 'call', 'bid': 326.1, 'ask': 330.15, 'last': 350.0, 'volume': None, 'open_interest': 1, 'implied_volatility': 3.100038871, 'delta': None, 'gamma': None, 'theta': None, 'vega': None, 'rho': None, 'in_the_money': True, 'underlying_price': 541.4099731445312}
2025-03-16 13:33:22,612 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:option_chain:GS:2025-04-17 00:00:00
2025-03-16 13:33:22,612 - app.routes.options - INFO - Found 178 options for GS expiring on 2025-04-17
2025-03-16 13:33:22,612 - app.routes.options - INFO - Returning 178 options after filtering
2025-03-16 13:33:22,614 - app.main - INFO - RESPONSE: GET /options/chains/GS/2025-04-17 - Status: 200 - Time: 0.2275s
2025-03-16 13:33:36,765 - app.main - INFO - REQUEST: OPTIONS /positions/? from 127.0.0.1
2025-03-16 13:33:36,766 - app.main - INFO - RESPONSE: OPTIONS /positions/ - Status: 200 - Time: 0.0005s
2025-03-16 13:33:36,768 - app.main - INFO - REQUEST: POST /positions/? from 127.0.0.1
2025-03-16 13:33:36,778 - app.main - INFO - RESPONSE: POST /positions/ - Status: 200 - Time: 0.0102s
2025-03-16 13:33:36,780 - app.main - INFO - REQUEST: OPTIONS /greeks/calculate? from 127.0.0.1
2025-03-16 13:33:36,781 - app.main - INFO - RESPONSE: OPTIONS /greeks/calculate - Status: 200 - Time: 0.0002s
2025-03-16 13:33:36,782 - app.main - INFO - REQUEST: POST /greeks/calculate? from 127.0.0.1
2025-03-16 13:33:36,782 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,784 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-16 13:33:36,784 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-16 13:33:36,785 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-16 13:33:36,785 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-16 13:33:36,785 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 541.4099731445312
2025-03-16 13:33:36,786 - app.main - INFO - RESPONSE: POST /greeks/calculate - Status: 200 - Time: 0.0046s
2025-03-16 13:33:36,787 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,787 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:33:36,787 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:33:36,787 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:33:36,787 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:33:36,788 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,788 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:33:36,788 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:33:36,788 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:33:36,788 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:33:36,788 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,788 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:33:36,788 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:33:36,789 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:33:36,789 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:33:36,789 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,789 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:33:36,789 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:33:36,789 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:33:36,789 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:33:36,789 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,789 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:36,789 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:36,790 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:36,790 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:36,790 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,790 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:36,790 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:36,790 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:36,790 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:36,790 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,790 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:36,790 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:36,791 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:36,791 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:36,791 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,791 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-16 13:33:36,791 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-16 13:33:36,791 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-16 13:33:36,791 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 541.4099731445312
2025-03-16 13:33:36,792 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 0.0070s
2025-03-16 13:33:36,795 - app.main - INFO - REQUEST: GET /greeks/position/81eca42e-b77e-40fd-831f-c1c2c4e5e052?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:36,796 - app.main - INFO - REQUEST: GET /greeks/position/f9afd3d6-c8cb-43d3-bab2-59ab7951e06d?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:36,797 - app.main - INFO - REQUEST: GET /greeks/position/8cd6e002-bd24-4add-808e-f47c3b2a0372?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:36,797 - app.main - INFO - REQUEST: GET /greeks/position/bb7572db-8c48-4ccd-b863-2384ae4e7881?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:36,798 - app.main - INFO - REQUEST: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:36,798 - app.main - INFO - REQUEST: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:36,799 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,799 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,800 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,800 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,800 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,800 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,801 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:33:36,801 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:33:36,802 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:33:36,801 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:33:36,802 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:33:36,802 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:33:36,802 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:36,802 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:33:36,803 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:33:36,803 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:36,803 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:33:36,803 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:33:36,803 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:36,803 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:33:36,803 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:33:36,803 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:33:36,803 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:36,803 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:36,804 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:33:36,804 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:33:36,804 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:36,804 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:36,804 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:33:36,805 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:36,805 - app.main - INFO - RESPONSE: GET /greeks/position/f9afd3d6-c8cb-43d3-bab2-59ab7951e06d - Status: 200 - Time: 0.0093s
2025-03-16 13:33:36,806 - app.main - INFO - RESPONSE: GET /greeks/position/81eca42e-b77e-40fd-831f-c1c2c4e5e052 - Status: 200 - Time: 0.0106s
2025-03-16 13:33:36,806 - app.main - INFO - RESPONSE: GET /greeks/position/8cd6e002-bd24-4add-808e-f47c3b2a0372 - Status: 200 - Time: 0.0096s
2025-03-16 13:33:36,807 - app.main - INFO - RESPONSE: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc - Status: 200 - Time: 0.0082s
2025-03-16 13:33:36,807 - app.main - INFO - REQUEST: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:36,807 - app.main - INFO - REQUEST: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:36,808 - app.main - INFO - RESPONSE: GET /greeks/position/bb7572db-8c48-4ccd-b863-2384ae4e7881 - Status: 200 - Time: 0.0108s
2025-03-16 13:33:36,808 - app.main - INFO - RESPONSE: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f - Status: 200 - Time: 0.0105s
2025-03-16 13:33:36,809 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,809 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:36,810 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-16 13:33:36,810 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:36,810 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-16 13:33:36,810 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:36,810 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-16 13:33:36,810 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:36,810 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 541.4099731445312
2025-03-16 13:33:36,810 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:36,811 - app.main - INFO - RESPONSE: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca - Status: 200 - Time: 0.0037s
2025-03-16 13:33:36,811 - app.main - INFO - RESPONSE: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13 - Status: 200 - Time: 0.0041s
2025-03-16 13:33:44,206 - app.main - INFO - REQUEST: GET /greeks/position/81eca42e-b77e-40fd-831f-c1c2c4e5e052?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:44,207 - app.main - INFO - REQUEST: GET /greeks/position/f9afd3d6-c8cb-43d3-bab2-59ab7951e06d?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:44,207 - app.main - INFO - REQUEST: GET /greeks/position/8cd6e002-bd24-4add-808e-f47c3b2a0372?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:44,208 - app.main - INFO - REQUEST: GET /greeks/position/bb7572db-8c48-4ccd-b863-2384ae4e7881?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:44,208 - app.main - INFO - REQUEST: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:44,208 - app.main - INFO - REQUEST: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:44,210 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,211 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,211 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,212 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,212 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,212 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,215 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:33:44,215 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:33:44,217 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:33:44,217 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:33:44,217 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:44,217 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:44,217 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:33:44,217 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:33:44,217 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:33:44,218 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:44,218 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:33:44,218 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:44,218 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:33:44,218 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:33:44,219 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:33:44,219 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:44,219 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:33:44,220 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:44,220 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:33:44,220 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:44,220 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:33:44,221 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:33:44,221 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:44,222 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:33:44,222 - app.main - INFO - RESPONSE: GET /greeks/position/81eca42e-b77e-40fd-831f-c1c2c4e5e052 - Status: 200 - Time: 0.0161s
2025-03-16 13:33:44,223 - app.main - INFO - REQUEST: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:44,224 - app.main - INFO - RESPONSE: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc - Status: 200 - Time: 0.0158s
2025-03-16 13:33:44,224 - app.main - INFO - RESPONSE: GET /greeks/position/bb7572db-8c48-4ccd-b863-2384ae4e7881 - Status: 200 - Time: 0.0163s
2025-03-16 13:33:44,224 - app.main - INFO - RESPONSE: GET /greeks/position/8cd6e002-bd24-4add-808e-f47c3b2a0372 - Status: 200 - Time: 0.0166s
2025-03-16 13:33:44,225 - app.main - INFO - RESPONSE: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f - Status: 200 - Time: 0.0170s
2025-03-16 13:33:44,225 - app.main - INFO - RESPONSE: GET /greeks/position/f9afd3d6-c8cb-43d3-bab2-59ab7951e06d - Status: 200 - Time: 0.0178s
2025-03-16 13:33:44,226 - app.main - INFO - REQUEST: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca?force_recalculate=true from 127.0.0.1
2025-03-16 13:33:44,226 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,226 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,227 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:44,227 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:44,227 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-16 13:33:44,228 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:44,228 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-16 13:33:44,228 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:44,228 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-16 13:33:44,228 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 541.4099731445312
2025-03-16 13:33:44,229 - app.main - INFO - RESPONSE: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13 - Status: 200 - Time: 0.0052s
2025-03-16 13:33:44,229 - app.main - INFO - RESPONSE: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca - Status: 200 - Time: 0.0033s
2025-03-16 13:33:44,235 - app.main - INFO - REQUEST: GET /positions/81eca42e-b77e-40fd-831f-c1c2c4e5e052/pnl?recalculate=true from 127.0.0.1
2025-03-16 13:33:44,235 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,236 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:33:44,236 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:33:44,236 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:33:44,236 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:33:44,242 - app.main - INFO - RESPONSE: GET /positions/81eca42e-b77e-40fd-831f-c1c2c4e5e052/pnl - Status: 200 - Time: 0.0071s
2025-03-16 13:33:44,244 - app.main - INFO - REQUEST: GET /positions/81eca42e-b77e-40fd-831f-c1c2c4e5e052/pnl?recalculate=true from 127.0.0.1
2025-03-16 13:33:44,245 - app.main - INFO - REQUEST: GET /positions/667c1e42-d32e-4664-b482-bb8efe85285f/pnl?recalculate=true from 127.0.0.1
2025-03-16 13:33:44,245 - app.main - INFO - REQUEST: GET /positions/902a5055-7d42-49af-8705-0249f37da8fc/pnl?recalculate=true from 127.0.0.1
2025-03-16 13:33:44,245 - app.main - INFO - REQUEST: GET /positions/5332c6dc-4342-4748-9ffc-1087aad16f13/pnl?recalculate=true from 127.0.0.1
2025-03-16 13:33:44,245 - app.main - INFO - REQUEST: GET /positions/b751c8b9-427b-4a77-bdee-d58a98dbfeca/pnl?recalculate=true from 127.0.0.1
2025-03-16 13:33:44,245 - app.main - INFO - REQUEST: GET /positions/f9afd3d6-c8cb-43d3-bab2-59ab7951e06d/pnl?recalculate=true from 127.0.0.1
2025-03-16 13:33:44,246 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,247 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,247 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,247 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,247 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,247 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,249 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:44,249 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:33:44,249 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-16 13:33:44,249 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:44,249 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:44,250 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:33:44,250 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-16 13:33:44,250 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:44,250 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:44,251 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:44,251 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:33:44,251 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:44,252 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:33:44,252 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:44,252 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:44,252 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-16 13:33:44,252 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:33:44,252 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:44,252 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:44,252 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:33:44,252 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 541.4099731445312
2025-03-16 13:33:44,253 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:33:44,253 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:44,254 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:33:44,256 - app.main - INFO - RESPONSE: GET /positions/667c1e42-d32e-4664-b482-bb8efe85285f/pnl - Status: 200 - Time: 0.0112s
2025-03-16 13:33:44,257 - app.main - INFO - RESPONSE: GET /positions/5332c6dc-4342-4748-9ffc-1087aad16f13/pnl - Status: 200 - Time: 0.0114s
2025-03-16 13:33:44,257 - app.main - INFO - REQUEST: GET /positions/8cd6e002-bd24-4add-808e-f47c3b2a0372/pnl?recalculate=true from 127.0.0.1
2025-03-16 13:33:44,258 - app.main - INFO - REQUEST: GET /positions/bb7572db-8c48-4ccd-b863-2384ae4e7881/pnl?recalculate=true from 127.0.0.1
2025-03-16 13:33:44,259 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,260 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,261 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:33:44,262 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:33:44,263 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:33:44,263 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:33:44,263 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:33:44,263 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:33:44,265 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:33:44,265 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:33:44,265 - app.main - INFO - RESPONSE: GET /positions/81eca42e-b77e-40fd-831f-c1c2c4e5e052/pnl - Status: 200 - Time: 0.0208s
2025-03-16 13:33:44,266 - app.main - INFO - RESPONSE: GET /positions/f9afd3d6-c8cb-43d3-bab2-59ab7951e06d/pnl - Status: 200 - Time: 0.0210s
2025-03-16 13:33:44,269 - app.main - INFO - RESPONSE: GET /positions/b751c8b9-427b-4a77-bdee-d58a98dbfeca/pnl - Status: 200 - Time: 0.0240s
2025-03-16 13:33:44,270 - app.main - INFO - RESPONSE: GET /positions/902a5055-7d42-49af-8705-0249f37da8fc/pnl - Status: 200 - Time: 0.0250s
2025-03-16 13:33:44,271 - app.main - INFO - RESPONSE: GET /positions/8cd6e002-bd24-4add-808e-f47c3b2a0372/pnl - Status: 200 - Time: 0.0135s
2025-03-16 13:33:44,272 - app.main - INFO - RESPONSE: GET /positions/bb7572db-8c48-4ccd-b863-2384ae4e7881/pnl - Status: 200 - Time: 0.0136s
2025-03-16 13:33:44,292 - app.main - INFO - REQUEST: OPTIONS /positions/81eca42e-b77e-40fd-831f-c1c2c4e5e052/theoretical-pnl?recalculate=true from 127.0.0.1
2025-03-16 13:33:44,293 - app.main - INFO - RESPONSE: OPTIONS /positions/81eca42e-b77e-40fd-831f-c1c2c4e5e052/theoretical-pnl - Status: 200 - Time: 0.0002s
2025-03-16 13:33:44,293 - app.main - INFO - REQUEST: POST /positions/81eca42e-b77e-40fd-831f-c1c2c4e5e052/theoretical-pnl?recalculate=true from 127.0.0.1
2025-03-16 13:33:44,294 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,294 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,295 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:33:44,296 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:33:44,296 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:33:44,296 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:33:44,297 - app.main - INFO - RESPONSE: POST /positions/81eca42e-b77e-40fd-831f-c1c2c4e5e052/theoretical-pnl - Status: 500 - Time: 0.0035s
2025-03-16 13:33:44,304 - app.main - INFO - REQUEST: OPTIONS /positions/bulk-theoretical-pnl?recalculate=true from 127.0.0.1
2025-03-16 13:33:44,305 - app.main - INFO - RESPONSE: OPTIONS /positions/bulk-theoretical-pnl - Status: 200 - Time: 0.0002s
2025-03-16 13:33:44,305 - app.main - INFO - REQUEST: POST /positions/bulk-theoretical-pnl?recalculate=true from 127.0.0.1
2025-03-16 13:33:44,306 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,306 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-16 13:33:44,308 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:33:44,308 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:33:44,308 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:33:44,308 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:33:44,309 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-16 13:33:44,309 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-16 13:33:44,309 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AAPL
2025-03-16 13:33:44,309 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AAPL, returning price: 213.49000549316406
2025-03-16 13:33:44,310 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:33:44,310 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:33:44,310 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:33:44,310 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:33:44,310 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: META
2025-03-16 13:33:44,310 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:META
2025-03-16 13:33:44,311 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:META
2025-03-16 13:33:44,311 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:META, returning price: 607.5999755859375
2025-03-16 13:33:44,311 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:44,311 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:44,311 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:44,311 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:44,311 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:44,311 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:44,312 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:44,312 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:44,312 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-16 13:33:44,312 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-16 13:33:44,312 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-16 13:33:44,312 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 248.35000610351562
2025-03-16 13:33:44,312 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-16 13:33:44,312 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-16 13:33:44,313 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-16 13:33:44,313 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 541.4099731445312
2025-03-16 13:33:44,313 - app.main - INFO - RESPONSE: POST /positions/bulk-theoretical-pnl - Status: 200 - Time: 0.0077s
