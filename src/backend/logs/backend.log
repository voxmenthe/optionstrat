2025-03-23 11:02:10,318 - app.main - INFO - Backend logging initialized. Log file: /Volumes/bdrive/repos/optionstrat/src/backend/logs/backend.log
2025-03-23 11:02:17,421 - app.main - INFO - REQUEST: POST /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-23 11:02:17,422 - app.main - INFO - RESPONSE: POST /debug/clear-logs - Status: 200 - Time: 0.0006s
2025-03-23 11:02:17,596 - app.main - INFO - REQUEST: POST /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-23 11:02:17,596 - app.main - INFO - RESPONSE: POST /debug/clear-logs - Status: 200 - Time: 0.0004s
2025-03-23 11:02:17,730 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-23 11:02:17,736 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:17,736 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:17,736 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:17,740 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: IBM
2025-03-23 11:02:17,740 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for IBM
2025-03-23 11:02:17,741 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for IBM
2025-03-23 11:02:17,741 - yfinance - DEBUG - Entering history()
2025-03-23 11:02:17,742 - peewee - DEBUG - ('CREATE TABLE IF NOT EXISTS "_kv" ("key" VARCHAR(255) NOT NULL PRIMARY KEY, "value" VARCHAR(255)) WITHOUT ROWID', [])
2025-03-23 11:02:17,742 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['IBM', 1, 0])
2025-03-23 11:02:17,756 - yfinance - DEBUG -  Entering history()
2025-03-23 11:02:17,756 - yfinance - DEBUG - IBM: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:02:17,756 - yfinance - DEBUG -   Entering get()
2025-03-23 11:02:17,756 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:02:17,756 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/IBM
2025-03-23 11:02:17,756 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:02:17,756 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:02:17,756 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:17,756 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:17,757 - peewee - DEBUG - ('CREATE TABLE IF NOT EXISTS "_cookieschema" ("strategy" VARCHAR(255) NOT NULL PRIMARY KEY, "fetch_date" DATETIME NOT NULL, "cookie_bytes" BLOB NOT NULL) WITHOUT ROWID', [])
2025-03-23 11:02:17,757 - peewee - DEBUG - ('SELECT "t1"."strategy", "t1"."fetch_date", "t1"."cookie_bytes" FROM "_cookieschema" AS "t1" WHERE ("t1"."strategy" = ?) LIMIT ? OFFSET ?', ['basic', 1, 0])
2025-03-23 11:02:17,757 - yfinance - DEBUG - loaded persistent cookie
2025-03-23 11:02:17,757 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:17,761 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): query1.finance.yahoo.com:443
2025-03-23 11:02:17,869 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v1/test/getcrumb HTTP/1.1" 200 11
2025-03-23 11:02:17,869 - yfinance - DEBUG - crumb = 'qPUGCnmjW/o'
2025-03-23 11:02:17,869 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:17,869 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:02:17,870 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): query2.finance.yahoo.com:443
2025-03-23 11:02:18,151 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/IBM?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:02:18,165 - yfinance - DEBUG - response code=200
2025-03-23 11:02:18,166 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:02:18,166 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:02:18,168 - yfinance - DEBUG - IBM: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:02:18,169 - yfinance - DEBUG - IBM: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:02:18,173 - yfinance - DEBUG - IBM: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:02:18,173 - yfinance - DEBUG - IBM: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:02:18,173 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:02:18,173 - yfinance - DEBUG - Exiting history()
2025-03-23 11:02:18,174 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for IBM: 243.8699951171875
2025-03-23 11:02:18,174 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 243.8699951171875 for IBM with TTL=300
2025-03-23 11:02:18,178 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:IBM
2025-03-23 11:02:18,178 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 243.8699951171875 for IBM
2025-03-23 11:02:18,178 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,178 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:18,178 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:18,179 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:02:18,179 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:02:18,179 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,179 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:18,179 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:18,180 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:02:18,180 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:02:18,180 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,180 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:02:18,180 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:02:18,182 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: GS
2025-03-23 11:02:18,182 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for GS
2025-03-23 11:02:18,182 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for GS
2025-03-23 11:02:18,182 - yfinance - DEBUG - Entering history()
2025-03-23 11:02:18,182 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['GS', 1, 0])
2025-03-23 11:02:18,182 - yfinance - DEBUG -  Entering history()
2025-03-23 11:02:18,182 - yfinance - DEBUG - GS: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:02:18,183 - yfinance - DEBUG -   Entering get()
2025-03-23 11:02:18,183 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:02:18,183 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/GS
2025-03-23 11:02:18,183 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:02:18,183 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:02:18,183 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:18,183 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:18,183 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:18,183 - yfinance - DEBUG - reusing crumb
2025-03-23 11:02:18,183 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:18,183 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:02:18,275 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/GS?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:02:18,276 - yfinance - DEBUG - response code=200
2025-03-23 11:02:18,276 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:02:18,276 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:02:18,277 - yfinance - DEBUG - GS: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:02:18,278 - yfinance - DEBUG - GS: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:02:18,280 - yfinance - DEBUG - GS: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:02:18,281 - yfinance - DEBUG - GS: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:02:18,281 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:02:18,281 - yfinance - DEBUG - Exiting history()
2025-03-23 11:02:18,281 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for GS: 565.1400146484375
2025-03-23 11:02:18,281 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 565.1400146484375 for GS with TTL=300
2025-03-23 11:02:18,284 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:GS
2025-03-23 11:02:18,284 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 565.1400146484375 for GS
2025-03-23 11:02:18,284 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,284 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:02:18,284 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:02:18,285 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: MA
2025-03-23 11:02:18,286 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for MA
2025-03-23 11:02:18,286 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for MA
2025-03-23 11:02:18,286 - yfinance - DEBUG - Entering history()
2025-03-23 11:02:18,286 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['MA', 1, 0])
2025-03-23 11:02:18,286 - yfinance - DEBUG -  Entering history()
2025-03-23 11:02:18,286 - yfinance - DEBUG - MA: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:02:18,286 - yfinance - DEBUG -   Entering get()
2025-03-23 11:02:18,286 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:02:18,286 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/MA
2025-03-23 11:02:18,286 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:02:18,286 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:02:18,286 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:18,286 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:18,286 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:18,286 - yfinance - DEBUG - reusing crumb
2025-03-23 11:02:18,286 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:18,286 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:02:18,359 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/MA?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:02:18,359 - yfinance - DEBUG - response code=200
2025-03-23 11:02:18,359 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:02:18,359 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:02:18,360 - yfinance - DEBUG - MA: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:02:18,361 - yfinance - DEBUG - MA: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:02:18,363 - yfinance - DEBUG - MA: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:02:18,364 - yfinance - DEBUG - MA: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:02:18,364 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:02:18,364 - yfinance - DEBUG - Exiting history()
2025-03-23 11:02:18,364 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for MA: 535.6900024414062
2025-03-23 11:02:18,364 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 535.6900024414062 for MA with TTL=300
2025-03-23 11:02:18,366 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:MA
2025-03-23 11:02:18,366 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 535.6900024414062 for MA
2025-03-23 11:02:18,366 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,366 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:02:18,366 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:02:18,368 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: AVGO
2025-03-23 11:02:18,368 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for AVGO
2025-03-23 11:02:18,368 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for AVGO
2025-03-23 11:02:18,368 - yfinance - DEBUG - Entering history()
2025-03-23 11:02:18,368 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['AVGO', 1, 0])
2025-03-23 11:02:18,368 - yfinance - DEBUG -  Entering history()
2025-03-23 11:02:18,368 - yfinance - DEBUG - AVGO: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:02:18,368 - yfinance - DEBUG -   Entering get()
2025-03-23 11:02:18,368 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:02:18,368 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/AVGO
2025-03-23 11:02:18,368 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:02:18,368 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:02:18,368 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:18,368 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:18,368 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:18,368 - yfinance - DEBUG - reusing crumb
2025-03-23 11:02:18,368 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:18,368 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:02:18,443 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/AVGO?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:02:18,443 - yfinance - DEBUG - response code=200
2025-03-23 11:02:18,443 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:02:18,443 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:02:18,444 - yfinance - DEBUG - AVGO: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:02:18,445 - yfinance - DEBUG - AVGO: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:02:18,451 - yfinance - DEBUG - AVGO: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:02:18,451 - yfinance - DEBUG - AVGO: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:02:18,451 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:02:18,451 - yfinance - DEBUG - Exiting history()
2025-03-23 11:02:18,452 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for AVGO: 191.66000366210938
2025-03-23 11:02:18,452 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 191.66000366210938 for AVGO with TTL=300
2025-03-23 11:02:18,455 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:AVGO
2025-03-23 11:02:18,455 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 191.66000366210938 for AVGO
2025-03-23 11:02:18,455 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,455 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:02:18,455 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:02:18,456 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:02:18,456 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:02:18,456 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,456 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:02:18,456 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:02:18,458 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: WMT
2025-03-23 11:02:18,458 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for WMT
2025-03-23 11:02:18,458 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for WMT
2025-03-23 11:02:18,458 - yfinance - DEBUG - Entering history()
2025-03-23 11:02:18,458 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['WMT', 1, 0])
2025-03-23 11:02:18,459 - yfinance - DEBUG -  Entering history()
2025-03-23 11:02:18,459 - yfinance - DEBUG - WMT: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:02:18,459 - yfinance - DEBUG -   Entering get()
2025-03-23 11:02:18,459 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:02:18,459 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/WMT
2025-03-23 11:02:18,459 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:02:18,459 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:02:18,459 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:18,459 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:18,459 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:18,459 - yfinance - DEBUG - reusing crumb
2025-03-23 11:02:18,459 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:18,459 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:02:18,668 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/WMT?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:02:18,669 - yfinance - DEBUG - response code=200
2025-03-23 11:02:18,669 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:02:18,669 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:02:18,670 - yfinance - DEBUG - WMT: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:02:18,671 - yfinance - DEBUG - WMT: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:02:18,674 - yfinance - DEBUG - WMT: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:02:18,675 - yfinance - DEBUG - WMT: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:02:18,675 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:02:18,675 - yfinance - DEBUG - Exiting history()
2025-03-23 11:02:18,675 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for WMT: 85.9800033569336
2025-03-23 11:02:18,676 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 85.9800033569336 for WMT with TTL=300
2025-03-23 11:02:18,678 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:WMT
2025-03-23 11:02:18,678 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 85.9800033569336 for WMT
2025-03-23 11:02:18,680 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 0.9500s
2025-03-23 11:02:18,683 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-23 11:02:18,684 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,684 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:18,684 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:18,685 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:02:18,685 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:02:18,685 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,685 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:18,685 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:18,685 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:02:18,685 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:02:18,685 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,685 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:18,685 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:18,686 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:02:18,686 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:02:18,686 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,686 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:02:18,686 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:02:18,686 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:02:18,686 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:02:18,686 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,686 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:02:18,686 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:02:18,686 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:MA
2025-03-23 11:02:18,686 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:MA, returning price: 535.6900024414062
2025-03-23 11:02:18,686 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,686 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:02:18,686 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:02:18,687 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:02:18,687 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:02:18,687 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,687 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:02:18,687 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:02:18,687 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:02:18,687 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:02:18,687 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,687 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:02:18,687 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:02:18,687 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:WMT
2025-03-23 11:02:18,687 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:WMT, returning price: 85.9800033569336
2025-03-23 11:02:18,688 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 0.0051s
2025-03-23 11:02:18,707 - app.main - INFO - REQUEST: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:18,708 - app.main - INFO - REQUEST: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:18,708 - app.main - INFO - REQUEST: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:18,708 - app.main - INFO - REQUEST: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:18,708 - app.main - INFO - REQUEST: GET /greeks/position/1b2f75d1-b266-4aca-bfae-e505f35599c4?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:18,708 - app.main - INFO - REQUEST: GET /greeks/position/84491be9-24b0-4e7f-bdb3-562f8383692c?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:18,710 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,710 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,710 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,710 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,710 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,710 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,713 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:18,714 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:18,714 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:18,714 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:18,715 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:02:18,715 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:02:18,715 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:18,716 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:02:18,716 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:02:18,716 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:18,716 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:02:18,716 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:02:18,716 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:02:18,716 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:02:18,716 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:02:18,716 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:02:18,717 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:02:18,717 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:02:18,717 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:02:18,717 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:02:18,718 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:MA
2025-03-23 11:02:18,718 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:02:18,719 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:MA, returning price: 535.6900024414062
2025-03-23 11:02:18,719 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:02:18,719 - app.main - INFO - RESPONSE: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13 - Status: 200 - Time: 0.0111s
2025-03-23 11:02:18,720 - app.main - INFO - RESPONSE: GET /greeks/position/84491be9-24b0-4e7f-bdb3-562f8383692c - Status: 200 - Time: 0.0117s
2025-03-23 11:02:18,721 - app.main - INFO - RESPONSE: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f - Status: 200 - Time: 0.0138s
2025-03-23 11:02:18,722 - app.main - INFO - RESPONSE: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc - Status: 200 - Time: 0.0135s
2025-03-23 11:02:18,722 - app.main - INFO - REQUEST: GET /greeks/position/b4e12387-bfa8-4f07-b78a-f9cf1a5c08c6?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:18,722 - app.main - INFO - REQUEST: GET /greeks/position/399f390e-6963-4ceb-80f8-00c4e6473225?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:18,723 - app.main - INFO - RESPONSE: GET /greeks/position/1b2f75d1-b266-4aca-bfae-e505f35599c4 - Status: 200 - Time: 0.0143s
2025-03-23 11:02:18,723 - app.main - INFO - RESPONSE: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca - Status: 200 - Time: 0.0148s
2025-03-23 11:02:18,724 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,724 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:18,725 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:02:18,725 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:02:18,725 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:02:18,725 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:02:18,726 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:02:18,726 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:WMT
2025-03-23 11:02:18,726 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:02:18,726 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:WMT, returning price: 85.9800033569336
2025-03-23 11:02:18,726 - app.main - INFO - RESPONSE: GET /greeks/position/b4e12387-bfa8-4f07-b78a-f9cf1a5c08c6 - Status: 200 - Time: 0.0047s
2025-03-23 11:02:18,727 - app.main - INFO - RESPONSE: GET /greeks/position/399f390e-6963-4ceb-80f8-00c4e6473225 - Status: 200 - Time: 0.0043s
2025-03-23 11:02:31,181 - app.main - INFO - REQUEST: GET /options/search/Z?limit=10 from 127.0.0.1
2025-03-23 11:02:31,181 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:02:31,182 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:31,182 - app.routes.options - INFO - Received ticker search request for query: Z, limit: 10
2025-03-23 11:02:31,182 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: Z
2025-03-23 11:02:31,182 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: Z
2025-03-23 11:02:31,182 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-23 11:02:31,183 - app.services.yfinance_provider - INFO - search_tickers called with query: Z
2025-03-23 11:02:31,183 - app.services.yfinance_provider - INFO - Standardized ticker: Z
2025-03-23 11:02:31,183 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:Z
2025-03-23 11:02:31,184 - app.services.yfinance_provider - INFO - Fetching yfinance data for ticker: Z
2025-03-23 11:02:31,184 - app.services.yfinance_provider - INFO - Getting info for ticker: Z
2025-03-23 11:02:31,184 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/Z
2025-03-23 11:02:31,184 - yfinance - DEBUG - Entering get()
2025-03-23 11:02:31,184 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:02:31,184 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/Z
2025-03-23 11:02:31,184 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'Z'}
2025-03-23 11:02:31,184 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:02:31,184 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:31,184 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:31,184 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:31,184 - yfinance - DEBUG - reusing crumb
2025-03-23 11:02:31,184 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:31,184 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:02:31,303 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v10/finance/quoteSummary/Z?modules=financialData%2CquoteType%2CdefaultKeyStatistics%2CassetProfile%2CsummaryDetail&corsDomain=finance.yahoo.com&formatted=false&symbol=Z&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 2813
2025-03-23 11:02:31,305 - yfinance - DEBUG - response code=200
2025-03-23 11:02:31,305 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:02:31,305 - yfinance - DEBUG - Exiting get()
2025-03-23 11:02:31,305 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:02:31,305 - yfinance - DEBUG - Entering get()
2025-03-23 11:02:31,305 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:02:31,305 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:02:31,305 - yfinance - DEBUG - params={'symbols': 'Z', 'formatted': 'false'}
2025-03-23 11:02:31,305 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:02:31,306 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:31,306 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:31,306 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:31,306 - yfinance - DEBUG - reusing crumb
2025-03-23 11:02:31,306 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:31,306 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:02:31,376 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v7/finance/quote?symbols=Z&formatted=false&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 1078
2025-03-23 11:02:31,377 - yfinance - DEBUG - response code=200
2025-03-23 11:02:31,377 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:02:31,377 - yfinance - DEBUG - Exiting get()
2025-03-23 11:02:31,379 - yfinance - DEBUG - Entering get()
2025-03-23 11:02:31,379 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:02:31,379 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/Z?symbol=Z&type=trailingPegRatio&period1=1726963200&period2=1742774400
2025-03-23 11:02:31,379 - yfinance - DEBUG - params=None
2025-03-23 11:02:31,379 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:02:31,379 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:31,379 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:31,379 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:31,379 - yfinance - DEBUG - reusing crumb
2025-03-23 11:02:31,379 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:31,379 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:02:31,430 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /ws/fundamentals-timeseries/v1/finance/timeseries/Z?symbol=Z&type=trailingPegRatio&period1=1726963200&period2=1742774400&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 94
2025-03-23 11:02:31,431 - yfinance - DEBUG - response code=200
2025-03-23 11:02:31,431 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:02:31,431 - yfinance - DEBUG - Exiting get()
2025-03-23 11:02:31,431 - app.services.yfinance_provider - INFO - Got info for ticker Z: True
2025-03-23 11:02:31,431 - app.services.yfinance_provider - INFO - Valid ticker found: Z
2025-03-23 11:02:31,437 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:ticker_validation:Z
2025-03-23 11:02:31,438 - app.services.market_data - INFO - Provider returned results: ['Z']
2025-03-23 11:02:31,438 - app.routes.options - INFO - Received results from market_data_service: ['Z']
2025-03-23 11:02:31,438 - app.routes.options - INFO - Returning limited results: ['Z']
2025-03-23 11:02:31,439 - app.main - INFO - RESPONSE: GET /options/search/Z - Status: 200 - Time: 0.2582s
2025-03-23 11:02:31,657 - app.main - INFO - REQUEST: GET /options/search/ZM?limit=10 from 127.0.0.1
2025-03-23 11:02:31,658 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:02:31,658 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:31,659 - app.routes.options - INFO - Received ticker search request for query: ZM, limit: 10
2025-03-23 11:02:31,659 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: ZM
2025-03-23 11:02:31,659 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: ZM
2025-03-23 11:02:31,659 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-23 11:02:31,659 - app.services.yfinance_provider - INFO - search_tickers called with query: ZM
2025-03-23 11:02:31,659 - app.services.yfinance_provider - INFO - Standardized ticker: ZM
2025-03-23 11:02:31,659 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:ZM
2025-03-23 11:02:31,660 - app.services.yfinance_provider - INFO - Fetching yfinance data for ticker: ZM
2025-03-23 11:02:31,660 - app.services.yfinance_provider - INFO - Getting info for ticker: ZM
2025-03-23 11:02:31,660 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/ZM
2025-03-23 11:02:31,660 - yfinance - DEBUG - Entering get()
2025-03-23 11:02:31,660 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:02:31,660 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/ZM
2025-03-23 11:02:31,660 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'ZM'}
2025-03-23 11:02:31,660 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:02:31,660 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:31,661 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:31,661 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:31,661 - yfinance - DEBUG - reusing crumb
2025-03-23 11:02:31,661 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:31,661 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:02:31,776 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v10/finance/quoteSummary/ZM?modules=financialData%2CquoteType%2CdefaultKeyStatistics%2CassetProfile%2CsummaryDetail&corsDomain=finance.yahoo.com&formatted=false&symbol=ZM&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 3173
2025-03-23 11:02:31,778 - yfinance - DEBUG - response code=200
2025-03-23 11:02:31,778 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:02:31,778 - yfinance - DEBUG - Exiting get()
2025-03-23 11:02:31,779 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:02:31,779 - yfinance - DEBUG - Entering get()
2025-03-23 11:02:31,779 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:02:31,779 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:02:31,779 - yfinance - DEBUG - params={'symbols': 'ZM', 'formatted': 'false'}
2025-03-23 11:02:31,779 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:02:31,779 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:31,779 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:31,779 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:31,779 - yfinance - DEBUG - reusing crumb
2025-03-23 11:02:31,779 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:31,779 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:02:31,835 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v7/finance/quote?symbols=ZM&formatted=false&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 1150
2025-03-23 11:02:31,836 - yfinance - DEBUG - response code=200
2025-03-23 11:02:31,836 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:02:31,837 - yfinance - DEBUG - Exiting get()
2025-03-23 11:02:31,839 - yfinance - DEBUG - Entering get()
2025-03-23 11:02:31,839 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:02:31,839 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/ZM?symbol=ZM&type=trailingPegRatio&period1=1726963200&period2=1742774400
2025-03-23 11:02:31,839 - yfinance - DEBUG - params=None
2025-03-23 11:02:31,839 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:02:31,839 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:31,839 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:31,839 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:31,839 - yfinance - DEBUG - reusing crumb
2025-03-23 11:02:31,840 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:31,840 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:02:31,899 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /ws/fundamentals-timeseries/v1/finance/timeseries/ZM?symbol=ZM&type=trailingPegRatio&period1=1726963200&period2=1742774400&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 95
2025-03-23 11:02:31,900 - yfinance - DEBUG - response code=200
2025-03-23 11:02:31,900 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:02:31,900 - yfinance - DEBUG - Exiting get()
2025-03-23 11:02:31,900 - app.services.yfinance_provider - INFO - Got info for ticker ZM: True
2025-03-23 11:02:31,901 - app.services.yfinance_provider - INFO - Valid ticker found: ZM
2025-03-23 11:02:31,907 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:ticker_validation:ZM
2025-03-23 11:02:31,908 - app.services.market_data - INFO - Provider returned results: ['ZM']
2025-03-23 11:02:31,908 - app.routes.options - INFO - Received results from market_data_service: ['ZM']
2025-03-23 11:02:31,908 - app.routes.options - INFO - Returning limited results: ['ZM']
2025-03-23 11:02:31,909 - app.main - INFO - RESPONSE: GET /options/search/ZM - Status: 200 - Time: 0.2515s
2025-03-23 11:02:33,989 - app.main - INFO - REQUEST: GET /options/chains/ZM/expirations? from 127.0.0.1
2025-03-23 11:02:33,990 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:02:33,991 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:33,991 - app.dependencies - DEBUG - Creating new OptionChainService instance with MarketDataService
2025-03-23 11:02:33,992 - app.routes.options - INFO - Getting expirations for ticker: ZM
2025-03-23 11:02:33,993 - yfinance - DEBUG - Entering get()
2025-03-23 11:02:33,993 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:02:33,993 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v7/finance/options/ZM
2025-03-23 11:02:33,993 - yfinance - DEBUG - params=None
2025-03-23 11:02:33,993 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:02:33,994 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:33,994 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:33,994 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:33,994 - yfinance - DEBUG - reusing crumb
2025-03-23 11:02:33,994 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:33,994 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:02:34,068 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v7/finance/options/ZM?crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:02:34,070 - yfinance - DEBUG - response code=200
2025-03-23 11:02:34,070 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:02:34,070 - yfinance - DEBUG - Exiting get()
2025-03-23 11:02:34,075 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:option_expirations:ZM
2025-03-23 11:02:34,076 - app.routes.options - INFO - Found 16 expirations for ZM
2025-03-23 11:02:34,076 - app.routes.options - INFO - Expiration: 2025-03-28 00:00:00, days to expiration: 5
2025-03-23 11:02:34,076 - app.routes.options - INFO - Expiration: 2025-04-04 00:00:00, days to expiration: 12
2025-03-23 11:02:34,076 - app.routes.options - INFO - Expiration: 2025-04-11 00:00:00, days to expiration: 19
2025-03-23 11:02:34,076 - app.routes.options - INFO - Expiration: 2025-04-17 00:00:00, days to expiration: 25
2025-03-23 11:02:34,076 - app.routes.options - INFO - Expiration: 2025-04-25 00:00:00, days to expiration: 33
2025-03-23 11:02:34,076 - app.routes.options - INFO - Expiration: 2025-05-02 00:00:00, days to expiration: 40
2025-03-23 11:02:34,076 - app.routes.options - INFO - Expiration: 2025-05-16 00:00:00, days to expiration: 54
2025-03-23 11:02:34,076 - app.routes.options - INFO - Expiration: 2025-06-20 00:00:00, days to expiration: 89
2025-03-23 11:02:34,077 - app.routes.options - INFO - Expiration: 2025-08-15 00:00:00, days to expiration: 145
2025-03-23 11:02:34,077 - app.routes.options - INFO - Expiration: 2025-09-19 00:00:00, days to expiration: 180
2025-03-23 11:02:34,077 - app.routes.options - INFO - Expiration: 2025-11-21 00:00:00, days to expiration: 243
2025-03-23 11:02:34,077 - app.routes.options - INFO - Expiration: 2026-01-16 00:00:00, days to expiration: 299
2025-03-23 11:02:34,077 - app.routes.options - INFO - Expiration: 2026-03-20 00:00:00, days to expiration: 362
2025-03-23 11:02:34,077 - app.routes.options - INFO - Expiration: 2026-06-18 00:00:00, days to expiration: 452
2025-03-23 11:02:34,077 - app.routes.options - INFO - Expiration: 2026-12-18 00:00:00, days to expiration: 635
2025-03-23 11:02:34,077 - app.routes.options - INFO - Expiration: 2027-01-15 00:00:00, days to expiration: 663
2025-03-23 11:02:34,077 - app.main - INFO - RESPONSE: GET /options/chains/ZM/expirations - Status: 200 - Time: 0.0877s
2025-03-23 11:02:34,081 - app.main - INFO - REQUEST: GET /options/chains/ZM/2025-03-28? from 127.0.0.1
2025-03-23 11:02:34,082 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:02:34,082 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:34,082 - app.dependencies - DEBUG - Creating new OptionChainService instance with MarketDataService
2025-03-23 11:02:34,083 - app.routes.options - INFO - Getting options for ticker: ZM, expiration: 2025-03-28, type: None
2025-03-23 11:02:34,083 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_option_chain called for ticker: ZM, expiration: 2025-03-28 00:00:00
2025-03-23 11:02:34,083 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Cache key: yfinance:option_chain:ZM:2025-03-28 00:00:00
2025-03-23 11:02:34,083 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking for cached data with key: yfinance:option_chain:ZM:2025-03-28 00:00:00
2025-03-23 11:02:34,083 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for ZM
2025-03-23 11:02:34,083 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Fetching available expirations for ZM
2025-03-23 11:02:34,083 - yfinance - DEBUG - Entering get()
2025-03-23 11:02:34,083 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:02:34,083 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v7/finance/options/ZM
2025-03-23 11:02:34,083 - yfinance - DEBUG - params=None
2025-03-23 11:02:34,083 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:02:34,083 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:34,083 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:34,083 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:34,083 - yfinance - DEBUG - reusing crumb
2025-03-23 11:02:34,083 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:34,083 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:02:34,099 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v7/finance/options/ZM?crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 4370
2025-03-23 11:02:34,099 - yfinance - DEBUG - response code=200
2025-03-23 11:02:34,099 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:02:34,099 - yfinance - DEBUG - Exiting get()
2025-03-23 11:02:34,099 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Found 16 expirations for ZM
2025-03-23 11:02:34,099 - yfinance - DEBUG - Entering get()
2025-03-23 11:02:34,099 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:02:34,099 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v7/finance/options/ZM?date=1743120000
2025-03-23 11:02:34,099 - yfinance - DEBUG - params=None
2025-03-23 11:02:34,099 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:02:34,099 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:34,100 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:34,100 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:34,100 - yfinance - DEBUG - reusing crumb
2025-03-23 11:02:34,100 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:34,100 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:02:34,179 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v7/finance/options/ZM?date=1743120000&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:02:34,180 - yfinance - DEBUG - response code=200
2025-03-23 11:02:34,180 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:02:34,180 - yfinance - DEBUG - Exiting get()
2025-03-23 11:02:34,188 - app.services.yfinance_provider - INFO - Sample option data structure: {'contractSymbol': 'ZM250328C00050000', 'lastTradeDate': 1741636413000, 'strike': 50.0, 'lastPrice': 23.75, 'bid': 25.35, 'ask': 26.7, 'change': 0.0, 'percentChange': 0.0, 'volume': 3.0, 'openInterest': 0, 'impliedVolatility': 1.4765651172, 'inTheMoney': True, 'contractSize': 'REGULAR', 'currency': 'USD', 'optionType': 'call', 'underlying': 'ZM', 'expiration_date': '2025-03-28'}
2025-03-23 11:02:34,188 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Getting underlying price for ZM before processing options
2025-03-23 11:02:34,188 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:02:34,188 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:02:34,189 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: ZM
2025-03-23 11:02:34,189 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for ZM
2025-03-23 11:02:34,189 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for ZM
2025-03-23 11:02:34,189 - yfinance - DEBUG - Entering history()
2025-03-23 11:02:34,189 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['ZM', 1, 0])
2025-03-23 11:02:34,190 - yfinance - DEBUG -  Entering history()
2025-03-23 11:02:34,190 - yfinance - DEBUG - ZM: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:02:34,190 - yfinance - DEBUG -   Entering get()
2025-03-23 11:02:34,190 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:02:34,190 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/ZM
2025-03-23 11:02:34,190 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:02:34,190 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:02:34,190 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:02:34,190 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:02:34,190 - yfinance - DEBUG - reusing cookie
2025-03-23 11:02:34,190 - yfinance - DEBUG - reusing crumb
2025-03-23 11:02:34,190 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:02:34,190 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:02:34,249 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/ZM?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:02:34,250 - yfinance - DEBUG - response code=200
2025-03-23 11:02:34,250 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:02:34,250 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:02:34,252 - yfinance - DEBUG - ZM: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:02:34,253 - yfinance - DEBUG - ZM: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:02:34,255 - yfinance - DEBUG - ZM: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:02:34,255 - yfinance - DEBUG - ZM: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:02:34,255 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:02:34,255 - yfinance - DEBUG - Exiting history()
2025-03-23 11:02:34,257 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for ZM: 75.97000122070312
2025-03-23 11:02:34,257 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 75.97000122070312 for ZM with TTL=300
2025-03-23 11:02:34,260 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:ZM
2025-03-23 11:02:34,260 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 75.97000122070312 for ZM
2025-03-23 11:02:34,260 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Retrieved underlying price for ZM: 75.97000122070312
2025-03-23 11:02:34,260 - app.services.yfinance_provider - DEBUG - Sample option keys: dict_keys(['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'optionType', 'underlying', 'expiration_date'])
2025-03-23 11:02:34,260 - app.services.yfinance_provider - DEBUG - Sample standardized option: {'ticker': 'ZM', 'expiration': '2025-03-28T00:00:00', 'strike': 50.0, 'option_type': 'call', 'bid': 25.35, 'ask': 26.7, 'last': 23.75, 'volume': 3, 'open_interest': 0, 'implied_volatility': 1.4765651172, 'delta': None, 'gamma': None, 'theta': None, 'vega': None, 'rho': None, 'in_the_money': True, 'underlying_price': 75.97000122070312}
2025-03-23 11:02:34,262 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:option_chain:ZM:2025-03-28 00:00:00
2025-03-23 11:02:34,262 - app.routes.options - INFO - Found 72 options for ZM expiring on 2025-03-28
2025-03-23 11:02:34,262 - app.routes.options - INFO - Returning 72 options after filtering
2025-03-23 11:02:34,263 - app.main - INFO - RESPONSE: GET /options/chains/ZM/2025-03-28 - Status: 200 - Time: 0.1818s
2025-03-23 11:02:42,032 - app.main - INFO - REQUEST: POST /positions/? from 127.0.0.1
2025-03-23 11:02:42,043 - app.main - INFO - RESPONSE: POST /positions/ - Status: 200 - Time: 0.0107s
2025-03-23 11:02:42,045 - app.main - INFO - REQUEST: POST /greeks/calculate? from 127.0.0.1
2025-03-23 11:02:42,046 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,047 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:02:42,047 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:02:42,048 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:ZM
2025-03-23 11:02:42,048 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:ZM, returning price: 75.97000122070312
2025-03-23 11:02:42,049 - app.main - INFO - RESPONSE: POST /greeks/calculate - Status: 200 - Time: 0.0037s
2025-03-23 11:02:42,052 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-23 11:02:42,054 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,054 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:42,054 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:42,055 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:02:42,055 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:02:42,055 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,055 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:42,055 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:42,055 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:02:42,055 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:02:42,056 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,056 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:42,056 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:42,056 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:02:42,056 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:02:42,056 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,056 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:02:42,056 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:02:42,057 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:02:42,057 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:02:42,057 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,057 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:02:42,057 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:02:42,058 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:MA
2025-03-23 11:02:42,058 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:MA, returning price: 535.6900024414062
2025-03-23 11:02:42,058 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,058 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:02:42,058 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:02:42,059 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:02:42,059 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:02:42,059 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,059 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:02:42,059 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:02:42,060 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:02:42,060 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:02:42,060 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,060 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:02:42,060 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:02:42,061 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:WMT
2025-03-23 11:02:42,061 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:WMT, returning price: 85.9800033569336
2025-03-23 11:02:42,061 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,061 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:02:42,061 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:02:42,061 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:ZM
2025-03-23 11:02:42,061 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:ZM, returning price: 75.97000122070312
2025-03-23 11:02:42,062 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 0.0099s
2025-03-23 11:02:42,065 - app.main - INFO - REQUEST: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:42,067 - app.main - INFO - REQUEST: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:42,067 - app.main - INFO - REQUEST: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:42,067 - app.main - INFO - REQUEST: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:42,067 - app.main - INFO - REQUEST: GET /greeks/position/1b2f75d1-b266-4aca-bfae-e505f35599c4?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:42,067 - app.main - INFO - REQUEST: GET /greeks/position/84491be9-24b0-4e7f-bdb3-562f8383692c?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:42,068 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,070 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,070 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:42,071 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,071 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,071 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,071 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:42,071 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,071 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:42,072 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:02:42,073 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:42,073 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:02:42,073 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:02:42,073 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:02:42,073 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:02:42,074 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:02:42,074 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:02:42,074 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:02:42,074 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:02:42,075 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:02:42,075 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:02:42,075 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:02:42,075 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:02:42,075 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:02:42,077 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:02:42,077 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:02:42,077 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:02:42,077 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:MA
2025-03-23 11:02:42,077 - app.main - INFO - RESPONSE: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f - Status: 200 - Time: 0.0118s
2025-03-23 11:02:42,077 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:02:42,078 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:MA, returning price: 535.6900024414062
2025-03-23 11:02:42,079 - app.main - INFO - REQUEST: GET /greeks/position/b4e12387-bfa8-4f07-b78a-f9cf1a5c08c6?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:42,079 - app.main - INFO - RESPONSE: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc - Status: 200 - Time: 0.0126s
2025-03-23 11:02:42,080 - app.main - INFO - RESPONSE: GET /greeks/position/84491be9-24b0-4e7f-bdb3-562f8383692c - Status: 200 - Time: 0.0126s
2025-03-23 11:02:42,081 - app.main - INFO - REQUEST: GET /greeks/position/399f390e-6963-4ceb-80f8-00c4e6473225?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:42,081 - app.main - INFO - REQUEST: GET /greeks/position/0c448da3-4170-4c94-9148-9b3e2176f573?force_recalculate=true from 127.0.0.1
2025-03-23 11:02:42,082 - app.main - INFO - RESPONSE: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13 - Status: 200 - Time: 0.0143s
2025-03-23 11:02:42,082 - app.main - INFO - RESPONSE: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca - Status: 200 - Time: 0.0147s
2025-03-23 11:02:42,082 - app.main - INFO - RESPONSE: GET /greeks/position/1b2f75d1-b266-4aca-bfae-e505f35599c4 - Status: 200 - Time: 0.0149s
2025-03-23 11:02:42,083 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,084 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,084 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:02:42,084 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:02:42,084 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:02:42,085 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:02:42,085 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:02:42,085 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:02:42,085 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:02:42,085 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:02:42,086 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:02:42,087 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:ZM
2025-03-23 11:02:42,087 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:ZM, returning price: 75.97000122070312
2025-03-23 11:02:42,087 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:WMT
2025-03-23 11:02:42,087 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:WMT, returning price: 85.9800033569336
2025-03-23 11:02:42,087 - app.main - INFO - RESPONSE: GET /greeks/position/b4e12387-bfa8-4f07-b78a-f9cf1a5c08c6 - Status: 200 - Time: 0.0082s
2025-03-23 11:02:42,088 - app.main - INFO - RESPONSE: GET /greeks/position/0c448da3-4170-4c94-9148-9b3e2176f573 - Status: 200 - Time: 0.0068s
2025-03-23 11:02:42,089 - app.main - INFO - RESPONSE: GET /greeks/position/399f390e-6963-4ceb-80f8-00c4e6473225 - Status: 200 - Time: 0.0079s
2025-03-23 11:05:22,707 - app.main - INFO - REQUEST: OPTIONS /debug/log? from 127.0.0.1
2025-03-23 11:05:22,708 - app.main - INFO - RESPONSE: OPTIONS /debug/log - Status: 200 - Time: 0.0003s
2025-03-23 11:05:22,709 - app.main - INFO - REQUEST: POST /debug/log? from 127.0.0.1
2025-03-23 11:05:22,713 - app.main - INFO - RESPONSE: POST /debug/log - Status: 200 - Time: 0.0033s
2025-03-23 11:05:22,807 - app.main - INFO - REQUEST: POST /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-23 11:05:22,807 - app.main - INFO - RESPONSE: POST /debug/clear-logs - Status: 200 - Time: 0.0005s
2025-03-23 11:05:22,995 - app.main - INFO - REQUEST: OPTIONS /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-23 11:05:22,995 - app.main - INFO - RESPONSE: OPTIONS /debug/clear-logs - Status: 200 - Time: 0.0002s
2025-03-23 11:05:22,996 - app.main - INFO - REQUEST: POST /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-23 11:05:22,996 - app.main - INFO - RESPONSE: POST /debug/clear-logs - Status: 200 - Time: 0.0004s
2025-03-23 11:05:23,128 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-23 11:05:23,130 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,130 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:05:23,130 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:05:23,130 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:05:23,130 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:05:23,130 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,130 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:05:23,130 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:05:23,131 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:05:23,131 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:05:23,131 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,131 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:05:23,131 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:05:23,131 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:05:23,131 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:05:23,131 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,131 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:05:23,131 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:05:23,131 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:05:23,131 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:05:23,132 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,132 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:05:23,132 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:05:23,132 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:MA
2025-03-23 11:05:23,132 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:MA, returning price: 535.6900024414062
2025-03-23 11:05:23,132 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,132 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:05:23,132 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:05:23,132 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:05:23,132 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:05:23,132 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,132 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:05:23,132 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:05:23,132 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:05:23,132 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:05:23,132 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,132 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:05:23,133 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:05:23,133 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:WMT
2025-03-23 11:05:23,133 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:WMT, returning price: 85.9800033569336
2025-03-23 11:05:23,133 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,133 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:05:23,133 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:05:23,133 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:ZM
2025-03-23 11:05:23,133 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:ZM, returning price: 75.97000122070312
2025-03-23 11:05:23,134 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 0.0063s
2025-03-23 11:05:23,142 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-23 11:05:23,143 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,143 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:05:23,143 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:05:23,144 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:05:23,144 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:05:23,144 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,144 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:05:23,144 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:05:23,144 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:05:23,144 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:05:23,144 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,144 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:05:23,144 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:05:23,145 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:05:23,145 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:05:23,145 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,145 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:05:23,145 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:05:23,145 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:05:23,145 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:05:23,145 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,145 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:05:23,145 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:05:23,146 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:MA
2025-03-23 11:05:23,146 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:MA, returning price: 535.6900024414062
2025-03-23 11:05:23,146 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,146 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:05:23,146 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:05:23,146 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:05:23,146 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:05:23,146 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,146 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:05:23,146 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:05:23,146 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:05:23,146 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:05:23,147 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,147 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:05:23,147 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:05:23,147 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:WMT
2025-03-23 11:05:23,147 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:WMT, returning price: 85.9800033569336
2025-03-23 11:05:23,147 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,147 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:05:23,147 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:05:23,147 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:ZM
2025-03-23 11:05:23,147 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:ZM, returning price: 75.97000122070312
2025-03-23 11:05:23,148 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 0.0061s
2025-03-23 11:05:23,173 - app.main - INFO - REQUEST: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f?force_recalculate=true from 127.0.0.1
2025-03-23 11:05:23,174 - app.main - INFO - REQUEST: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc?force_recalculate=true from 127.0.0.1
2025-03-23 11:05:23,175 - app.main - INFO - REQUEST: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13?force_recalculate=true from 127.0.0.1
2025-03-23 11:05:23,175 - app.main - INFO - REQUEST: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca?force_recalculate=true from 127.0.0.1
2025-03-23 11:05:23,175 - app.main - INFO - REQUEST: GET /greeks/position/1b2f75d1-b266-4aca-bfae-e505f35599c4?force_recalculate=true from 127.0.0.1
2025-03-23 11:05:23,176 - app.main - INFO - REQUEST: GET /greeks/position/84491be9-24b0-4e7f-bdb3-562f8383692c?force_recalculate=true from 127.0.0.1
2025-03-23 11:05:23,176 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,177 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,177 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,178 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,178 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,179 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,179 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:05:23,181 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:05:23,181 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:05:23,181 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:05:23,182 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:05:23,182 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:05:23,182 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:05:23,182 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:05:23,182 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:05:23,183 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:05:23,183 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:05:23,183 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:05:23,183 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:05:23,183 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:05:23,183 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:05:23,184 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:05:23,184 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:05:23,184 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:05:23,184 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:05:23,184 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:05:23,185 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:MA
2025-03-23 11:05:23,185 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:05:23,186 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:05:23,186 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:MA, returning price: 535.6900024414062
2025-03-23 11:05:23,187 - app.main - INFO - RESPONSE: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f - Status: 200 - Time: 0.0136s
2025-03-23 11:05:23,187 - app.main - INFO - RESPONSE: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca - Status: 200 - Time: 0.0125s
2025-03-23 11:05:23,188 - app.main - INFO - RESPONSE: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13 - Status: 200 - Time: 0.0135s
2025-03-23 11:05:23,188 - app.main - INFO - REQUEST: GET /greeks/position/b4e12387-bfa8-4f07-b78a-f9cf1a5c08c6?force_recalculate=true from 127.0.0.1
2025-03-23 11:05:23,189 - app.main - INFO - RESPONSE: GET /greeks/position/84491be9-24b0-4e7f-bdb3-562f8383692c - Status: 200 - Time: 0.0134s
2025-03-23 11:05:23,189 - app.main - INFO - REQUEST: GET /greeks/position/399f390e-6963-4ceb-80f8-00c4e6473225?force_recalculate=true from 127.0.0.1
2025-03-23 11:05:23,190 - app.main - INFO - REQUEST: GET /greeks/position/0c448da3-4170-4c94-9148-9b3e2176f573?force_recalculate=true from 127.0.0.1
2025-03-23 11:05:23,190 - app.main - INFO - RESPONSE: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc - Status: 200 - Time: 0.0161s
2025-03-23 11:05:23,191 - app.main - INFO - RESPONSE: GET /greeks/position/1b2f75d1-b266-4aca-bfae-e505f35599c4 - Status: 200 - Time: 0.0151s
2025-03-23 11:05:23,192 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,192 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,192 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:05:23,193 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:05:23,193 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:05:23,193 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:05:23,194 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:05:23,194 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:05:23,195 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:ZM
2025-03-23 11:05:23,195 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:05:23,195 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:05:23,195 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:ZM, returning price: 75.97000122070312
2025-03-23 11:05:23,195 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:05:23,195 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:WMT
2025-03-23 11:05:23,196 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:WMT, returning price: 85.9800033569336
2025-03-23 11:05:23,197 - app.main - INFO - RESPONSE: GET /greeks/position/0c448da3-4170-4c94-9148-9b3e2176f573 - Status: 200 - Time: 0.0069s
2025-03-23 11:05:23,197 - app.main - INFO - RESPONSE: GET /greeks/position/b4e12387-bfa8-4f07-b78a-f9cf1a5c08c6 - Status: 200 - Time: 0.0084s
2025-03-23 11:05:23,198 - app.main - INFO - RESPONSE: GET /greeks/position/399f390e-6963-4ceb-80f8-00c4e6473225 - Status: 200 - Time: 0.0084s
2025-03-23 11:11:11,487 - app.main - INFO - REQUEST: POST /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-23 11:11:11,488 - app.main - INFO - RESPONSE: POST /debug/clear-logs - Status: 200 - Time: 0.0005s
2025-03-23 11:11:11,671 - app.main - INFO - REQUEST: POST /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-23 11:11:11,671 - app.main - INFO - RESPONSE: POST /debug/clear-logs - Status: 200 - Time: 0.0004s
2025-03-23 11:11:11,800 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-23 11:11:11,802 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:11,802 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:11:11,802 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:11:11,804 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: IBM
2025-03-23 11:11:11,804 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for IBM
2025-03-23 11:11:11,804 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for IBM
2025-03-23 11:11:11,804 - yfinance - DEBUG - Entering history()
2025-03-23 11:11:11,804 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['IBM', 1, 0])
2025-03-23 11:11:11,805 - yfinance - DEBUG -  Entering history()
2025-03-23 11:11:11,805 - yfinance - DEBUG - IBM: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:11:11,805 - yfinance - DEBUG -   Entering get()
2025-03-23 11:11:11,805 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:11:11,805 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/IBM
2025-03-23 11:11:11,805 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:11:11,805 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:11:11,805 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:11:11,805 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:11:11,805 - yfinance - DEBUG - reusing cookie
2025-03-23 11:11:11,805 - yfinance - DEBUG - reusing crumb
2025-03-23 11:11:11,805 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:11:11,805 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:11:11,807 - urllib3.connectionpool - DEBUG - Resetting dropped connection: query2.finance.yahoo.com
2025-03-23 11:11:12,583 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/IBM?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:11:12,583 - yfinance - DEBUG - response code=200
2025-03-23 11:11:12,583 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:11:12,583 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:11:12,585 - yfinance - DEBUG - IBM: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:11:12,585 - yfinance - DEBUG - IBM: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:11:12,589 - yfinance - DEBUG - IBM: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:11:12,589 - yfinance - DEBUG - IBM: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:11:12,589 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:11:12,589 - yfinance - DEBUG - Exiting history()
2025-03-23 11:11:12,590 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for IBM: 243.8699951171875
2025-03-23 11:11:12,590 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 243.8699951171875 for IBM with TTL=300
2025-03-23 11:11:12,593 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:IBM
2025-03-23 11:11:12,593 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 243.8699951171875 for IBM
2025-03-23 11:11:12,593 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:12,593 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:11:12,593 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:11:12,594 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:11:12,594 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:11:12,594 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:12,594 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:11:12,594 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:11:12,594 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:11:12,594 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:11:12,594 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:12,595 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:11:12,595 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:11:12,597 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: GS
2025-03-23 11:11:12,597 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for GS
2025-03-23 11:11:12,597 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for GS
2025-03-23 11:11:12,597 - yfinance - DEBUG - Entering history()
2025-03-23 11:11:12,597 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['GS', 1, 0])
2025-03-23 11:11:12,597 - yfinance - DEBUG -  Entering history()
2025-03-23 11:11:12,597 - yfinance - DEBUG - GS: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:11:12,597 - yfinance - DEBUG -   Entering get()
2025-03-23 11:11:12,597 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:11:12,597 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/GS
2025-03-23 11:11:12,597 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:11:12,597 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:11:12,597 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:11:12,597 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:11:12,597 - yfinance - DEBUG - reusing cookie
2025-03-23 11:11:12,597 - yfinance - DEBUG - reusing crumb
2025-03-23 11:11:12,597 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:11:12,597 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:11:12,687 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/GS?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:11:12,687 - yfinance - DEBUG - response code=200
2025-03-23 11:11:12,688 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:11:12,688 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:11:12,689 - yfinance - DEBUG - GS: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:11:12,690 - yfinance - DEBUG - GS: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:11:12,693 - yfinance - DEBUG - GS: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:11:12,694 - yfinance - DEBUG - GS: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:11:12,694 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:11:12,694 - yfinance - DEBUG - Exiting history()
2025-03-23 11:11:12,695 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for GS: 565.1400146484375
2025-03-23 11:11:12,695 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 565.1400146484375 for GS with TTL=300
2025-03-23 11:11:12,698 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:GS
2025-03-23 11:11:12,698 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 565.1400146484375 for GS
2025-03-23 11:11:12,698 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:12,699 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:11:12,699 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:11:12,700 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: MA
2025-03-23 11:11:12,701 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for MA
2025-03-23 11:11:12,701 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for MA
2025-03-23 11:11:12,701 - yfinance - DEBUG - Entering history()
2025-03-23 11:11:12,701 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['MA', 1, 0])
2025-03-23 11:11:12,701 - yfinance - DEBUG -  Entering history()
2025-03-23 11:11:12,701 - yfinance - DEBUG - MA: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:11:12,701 - yfinance - DEBUG -   Entering get()
2025-03-23 11:11:12,701 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:11:12,701 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/MA
2025-03-23 11:11:12,701 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:11:12,701 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:11:12,701 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:11:12,701 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:11:12,701 - yfinance - DEBUG - reusing cookie
2025-03-23 11:11:12,701 - yfinance - DEBUG - reusing crumb
2025-03-23 11:11:12,702 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:11:12,702 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:11:13,185 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/MA?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:11:13,189 - yfinance - DEBUG - response code=200
2025-03-23 11:11:13,189 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:11:13,189 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:11:13,192 - yfinance - DEBUG - MA: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:11:13,194 - yfinance - DEBUG - MA: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:11:13,201 - yfinance - DEBUG - MA: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:11:13,201 - yfinance - DEBUG - MA: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:11:13,201 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:11:13,201 - yfinance - DEBUG - Exiting history()
2025-03-23 11:11:13,203 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for MA: 535.6900024414062
2025-03-23 11:11:13,203 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 535.6900024414062 for MA with TTL=300
2025-03-23 11:11:13,206 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:MA
2025-03-23 11:11:13,206 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 535.6900024414062 for MA
2025-03-23 11:11:13,207 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:13,207 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:11:13,207 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:11:13,210 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: AVGO
2025-03-23 11:11:13,210 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for AVGO
2025-03-23 11:11:13,210 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for AVGO
2025-03-23 11:11:13,210 - yfinance - DEBUG - Entering history()
2025-03-23 11:11:13,210 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['AVGO', 1, 0])
2025-03-23 11:11:13,210 - yfinance - DEBUG -  Entering history()
2025-03-23 11:11:13,210 - yfinance - DEBUG - AVGO: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:11:13,211 - yfinance - DEBUG -   Entering get()
2025-03-23 11:11:13,211 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:11:13,211 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/AVGO
2025-03-23 11:11:13,211 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:11:13,211 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:11:13,211 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:11:13,211 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:11:13,211 - yfinance - DEBUG - reusing cookie
2025-03-23 11:11:13,211 - yfinance - DEBUG - reusing crumb
2025-03-23 11:11:13,211 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:11:13,211 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:11:13,631 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/AVGO?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:11:13,632 - yfinance - DEBUG - response code=200
2025-03-23 11:11:13,633 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:11:13,633 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:11:13,637 - yfinance - DEBUG - AVGO: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:11:13,638 - yfinance - DEBUG - AVGO: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:11:13,646 - yfinance - DEBUG - AVGO: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:11:13,647 - yfinance - DEBUG - AVGO: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:11:13,647 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:11:13,647 - yfinance - DEBUG - Exiting history()
2025-03-23 11:11:13,648 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for AVGO: 191.66000366210938
2025-03-23 11:11:13,648 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 191.66000366210938 for AVGO with TTL=300
2025-03-23 11:11:13,651 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:AVGO
2025-03-23 11:11:13,651 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 191.66000366210938 for AVGO
2025-03-23 11:11:13,652 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:13,652 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:11:13,652 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:11:13,652 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:11:13,652 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:11:13,653 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:13,653 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:11:13,653 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:11:13,656 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: WMT
2025-03-23 11:11:13,656 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for WMT
2025-03-23 11:11:13,656 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for WMT
2025-03-23 11:11:13,656 - yfinance - DEBUG - Entering history()
2025-03-23 11:11:13,656 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['WMT', 1, 0])
2025-03-23 11:11:13,656 - yfinance - DEBUG -  Entering history()
2025-03-23 11:11:13,657 - yfinance - DEBUG - WMT: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:11:13,657 - yfinance - DEBUG -   Entering get()
2025-03-23 11:11:13,657 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:11:13,657 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/WMT
2025-03-23 11:11:13,657 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:11:13,657 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:11:13,657 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:11:13,657 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:11:13,657 - yfinance - DEBUG - reusing cookie
2025-03-23 11:11:13,657 - yfinance - DEBUG - reusing crumb
2025-03-23 11:11:13,657 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:11:13,657 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:11:14,159 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/WMT?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:11:14,161 - yfinance - DEBUG - response code=200
2025-03-23 11:11:14,161 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:11:14,161 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:11:14,164 - yfinance - DEBUG - WMT: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:11:14,166 - yfinance - DEBUG - WMT: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:11:14,171 - yfinance - DEBUG - WMT: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:11:14,172 - yfinance - DEBUG - WMT: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:11:14,172 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:11:14,172 - yfinance - DEBUG - Exiting history()
2025-03-23 11:11:14,174 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for WMT: 85.9800033569336
2025-03-23 11:11:14,174 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 85.9800033569336 for WMT with TTL=300
2025-03-23 11:11:14,178 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:WMT
2025-03-23 11:11:14,178 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 85.9800033569336 for WMT
2025-03-23 11:11:14,178 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,178 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:11:14,178 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:11:14,181 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: ZM
2025-03-23 11:11:14,181 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for ZM
2025-03-23 11:11:14,181 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for ZM
2025-03-23 11:11:14,181 - yfinance - DEBUG - Entering history()
2025-03-23 11:11:14,182 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['ZM', 1, 0])
2025-03-23 11:11:14,182 - yfinance - DEBUG -  Entering history()
2025-03-23 11:11:14,182 - yfinance - DEBUG - ZM: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:11:14,182 - yfinance - DEBUG -   Entering get()
2025-03-23 11:11:14,182 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:11:14,182 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/ZM
2025-03-23 11:11:14,182 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:11:14,182 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:11:14,182 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:11:14,182 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:11:14,182 - yfinance - DEBUG - reusing cookie
2025-03-23 11:11:14,182 - yfinance - DEBUG - reusing crumb
2025-03-23 11:11:14,182 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:11:14,182 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:11:14,255 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/ZM?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:11:14,256 - yfinance - DEBUG - response code=200
2025-03-23 11:11:14,256 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:11:14,257 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:11:14,259 - yfinance - DEBUG - ZM: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:11:14,259 - yfinance - DEBUG - ZM: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:11:14,261 - yfinance - DEBUG - ZM: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:11:14,262 - yfinance - DEBUG - ZM: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:11:14,262 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:11:14,262 - yfinance - DEBUG - Exiting history()
2025-03-23 11:11:14,264 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for ZM: 75.97000122070312
2025-03-23 11:11:14,264 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 75.97000122070312 for ZM with TTL=300
2025-03-23 11:11:14,266 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:ZM
2025-03-23 11:11:14,266 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 75.97000122070312 for ZM
2025-03-23 11:11:14,268 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 2.4676s
2025-03-23 11:11:14,275 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-23 11:11:14,277 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,277 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:11:14,277 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:11:14,278 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:11:14,278 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:11:14,278 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,278 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:11:14,278 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:11:14,279 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:11:14,279 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:11:14,279 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,279 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:11:14,279 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:11:14,279 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:11:14,279 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:11:14,280 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,280 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:11:14,280 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:11:14,280 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:11:14,280 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:11:14,280 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,280 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:11:14,280 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:11:14,281 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:MA
2025-03-23 11:11:14,281 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:MA, returning price: 535.6900024414062
2025-03-23 11:11:14,281 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,281 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:11:14,281 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:11:14,281 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:11:14,281 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:11:14,282 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,282 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:11:14,282 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:11:14,282 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:11:14,282 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:11:14,282 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,282 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:11:14,282 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:11:14,283 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:WMT
2025-03-23 11:11:14,283 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:WMT, returning price: 85.9800033569336
2025-03-23 11:11:14,283 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,283 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:11:14,283 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:11:14,283 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:ZM
2025-03-23 11:11:14,283 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:ZM, returning price: 75.97000122070312
2025-03-23 11:11:14,285 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 0.0097s
2025-03-23 11:11:14,314 - app.main - INFO - REQUEST: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f?force_recalculate=true from 127.0.0.1
2025-03-23 11:11:14,315 - app.main - INFO - REQUEST: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc?force_recalculate=true from 127.0.0.1
2025-03-23 11:11:14,316 - app.main - INFO - REQUEST: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13?force_recalculate=true from 127.0.0.1
2025-03-23 11:11:14,316 - app.main - INFO - REQUEST: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca?force_recalculate=true from 127.0.0.1
2025-03-23 11:11:14,316 - app.main - INFO - REQUEST: GET /greeks/position/1b2f75d1-b266-4aca-bfae-e505f35599c4?force_recalculate=true from 127.0.0.1
2025-03-23 11:11:14,316 - app.main - INFO - REQUEST: GET /greeks/position/84491be9-24b0-4e7f-bdb3-562f8383692c?force_recalculate=true from 127.0.0.1
2025-03-23 11:11:14,320 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,321 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,321 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,321 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,321 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,322 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,323 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:11:14,324 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:11:14,324 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:11:14,324 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:11:14,324 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:11:14,325 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:11:14,325 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:11:14,326 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:11:14,326 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:11:14,326 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:11:14,326 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:11:14,326 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:11:14,326 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:11:14,326 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:11:14,326 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:11:14,326 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:MA
2025-03-23 11:11:14,326 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:11:14,327 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:11:14,327 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:11:14,327 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:MA, returning price: 535.6900024414062
2025-03-23 11:11:14,328 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:11:14,328 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:11:14,328 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:11:14,329 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:11:14,329 - app.main - INFO - RESPONSE: GET /greeks/position/84491be9-24b0-4e7f-bdb3-562f8383692c - Status: 200 - Time: 0.0131s
2025-03-23 11:11:14,330 - app.main - INFO - RESPONSE: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f - Status: 200 - Time: 0.0162s
2025-03-23 11:11:14,331 - app.main - INFO - REQUEST: GET /greeks/position/b4e12387-bfa8-4f07-b78a-f9cf1a5c08c6?force_recalculate=true from 127.0.0.1
2025-03-23 11:11:14,332 - app.main - INFO - REQUEST: GET /greeks/position/399f390e-6963-4ceb-80f8-00c4e6473225?force_recalculate=true from 127.0.0.1
2025-03-23 11:11:14,332 - app.main - INFO - RESPONSE: GET /greeks/position/1b2f75d1-b266-4aca-bfae-e505f35599c4 - Status: 200 - Time: 0.0162s
2025-03-23 11:11:14,333 - app.main - INFO - RESPONSE: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc - Status: 200 - Time: 0.0175s
2025-03-23 11:11:14,333 - app.main - INFO - RESPONSE: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13 - Status: 200 - Time: 0.0176s
2025-03-23 11:11:14,334 - app.main - INFO - REQUEST: GET /greeks/position/0c448da3-4170-4c94-9148-9b3e2176f573?force_recalculate=true from 127.0.0.1
2025-03-23 11:11:14,334 - app.main - INFO - RESPONSE: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca - Status: 200 - Time: 0.0184s
2025-03-23 11:11:14,334 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,335 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,336 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:11:14,337 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:11:14,337 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:11:14,337 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:11:14,337 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:11:14,337 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:11:14,338 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:WMT
2025-03-23 11:11:14,337 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:11:14,338 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:WMT, returning price: 85.9800033569336
2025-03-23 11:11:14,338 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:11:14,339 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:11:14,339 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:ZM
2025-03-23 11:11:14,339 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:ZM, returning price: 75.97000122070312
2025-03-23 11:11:14,339 - app.main - INFO - RESPONSE: GET /greeks/position/b4e12387-bfa8-4f07-b78a-f9cf1a5c08c6 - Status: 200 - Time: 0.0084s
2025-03-23 11:11:14,340 - app.main - INFO - RESPONSE: GET /greeks/position/399f390e-6963-4ceb-80f8-00c4e6473225 - Status: 200 - Time: 0.0082s
2025-03-23 11:11:14,341 - app.main - INFO - RESPONSE: GET /greeks/position/0c448da3-4170-4c94-9148-9b3e2176f573 - Status: 200 - Time: 0.0068s
2025-03-23 11:12:32,058 - app.main - INFO - REQUEST: GET /options/search/A?limit=10 from 127.0.0.1
2025-03-23 11:12:32,059 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:12:32,059 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:32,060 - app.routes.options - INFO - Received ticker search request for query: A, limit: 10
2025-03-23 11:12:32,060 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: A
2025-03-23 11:12:32,061 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: A
2025-03-23 11:12:32,061 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-23 11:12:32,061 - app.services.yfinance_provider - INFO - search_tickers called with query: A
2025-03-23 11:12:32,061 - app.services.yfinance_provider - INFO - Standardized ticker: A
2025-03-23 11:12:32,061 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:A
2025-03-23 11:12:32,065 - app.services.yfinance_provider - INFO - Fetching yfinance data for ticker: A
2025-03-23 11:12:32,065 - app.services.yfinance_provider - INFO - Getting info for ticker: A
2025-03-23 11:12:32,065 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/A
2025-03-23 11:12:32,065 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:32,065 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:32,065 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/A
2025-03-23 11:12:32,065 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'A'}
2025-03-23 11:12:32,065 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:32,065 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:32,065 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,065 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:32,065 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:32,065 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,065 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:32,262 - app.main - INFO - REQUEST: GET /options/search/AA?limit=10 from 127.0.0.1
2025-03-23 11:12:32,263 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:12:32,263 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:32,264 - app.routes.options - INFO - Received ticker search request for query: AA, limit: 10
2025-03-23 11:12:32,264 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: AA
2025-03-23 11:12:32,264 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: AA
2025-03-23 11:12:32,264 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-23 11:12:32,264 - app.services.yfinance_provider - INFO - search_tickers called with query: AA
2025-03-23 11:12:32,264 - app.services.yfinance_provider - INFO - Standardized ticker: AA
2025-03-23 11:12:32,264 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:AA
2025-03-23 11:12:32,269 - app.services.yfinance_provider - INFO - Fetching yfinance data for ticker: AA
2025-03-23 11:12:32,269 - app.services.yfinance_provider - INFO - Getting info for ticker: AA
2025-03-23 11:12:32,269 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/AA
2025-03-23 11:12:32,270 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:32,270 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:32,270 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/AA
2025-03-23 11:12:32,270 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'AA'}
2025-03-23 11:12:32,270 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:32,270 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:32,270 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,270 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:32,270 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:32,270 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,270 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:32,272 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (2): query2.finance.yahoo.com:443
2025-03-23 11:12:32,326 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v10/finance/quoteSummary/A?modules=financialData%2CquoteType%2CdefaultKeyStatistics%2CassetProfile%2CsummaryDetail&corsDomain=finance.yahoo.com&formatted=false&symbol=A&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:12:32,327 - yfinance - DEBUG - response code=200
2025-03-23 11:12:32,327 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:32,327 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:32,328 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:12:32,328 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:32,328 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:32,328 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:12:32,328 - yfinance - DEBUG - params={'symbols': 'A', 'formatted': 'false'}
2025-03-23 11:12:32,328 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:32,328 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:32,328 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,328 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:32,328 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:32,328 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,328 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:32,331 - urllib3.connectionpool - DEBUG - Resetting dropped connection: query1.finance.yahoo.com
2025-03-23 11:12:32,373 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v10/finance/quoteSummary/AA?modules=financialData%2CquoteType%2CdefaultKeyStatistics%2CassetProfile%2CsummaryDetail&corsDomain=finance.yahoo.com&formatted=false&symbol=AA&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 2906
2025-03-23 11:12:32,374 - yfinance - DEBUG - response code=200
2025-03-23 11:12:32,374 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:32,374 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:32,374 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:12:32,374 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:32,374 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:32,374 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:12:32,374 - yfinance - DEBUG - params={'symbols': 'AA', 'formatted': 'false'}
2025-03-23 11:12:32,374 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:32,374 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:32,375 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,375 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:32,375 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:32,375 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,375 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:32,378 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (2): query1.finance.yahoo.com:443
2025-03-23 11:12:32,693 - app.main - INFO - REQUEST: GET /options/search/AAP?limit=10 from 127.0.0.1
2025-03-23 11:12:32,694 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:12:32,694 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:32,694 - app.routes.options - INFO - Received ticker search request for query: AAP, limit: 10
2025-03-23 11:12:32,694 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: AAP
2025-03-23 11:12:32,695 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: AAP
2025-03-23 11:12:32,695 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-23 11:12:32,695 - app.services.yfinance_provider - INFO - search_tickers called with query: AAP
2025-03-23 11:12:32,695 - app.services.yfinance_provider - INFO - Standardized ticker: AAP
2025-03-23 11:12:32,695 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:AAP
2025-03-23 11:12:32,698 - app.services.yfinance_provider - INFO - Fetching yfinance data for ticker: AAP
2025-03-23 11:12:32,698 - app.services.yfinance_provider - INFO - Getting info for ticker: AAP
2025-03-23 11:12:32,698 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/AAP
2025-03-23 11:12:32,698 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:32,698 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:32,699 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/AAP
2025-03-23 11:12:32,699 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'AAP'}
2025-03-23 11:12:32,699 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:32,699 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:32,699 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,699 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:32,699 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:32,699 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,699 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:32,802 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v7/finance/quote?symbols=A&formatted=false&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 1250
2025-03-23 11:12:32,803 - yfinance - DEBUG - response code=200
2025-03-23 11:12:32,803 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:32,803 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:32,804 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:32,804 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:32,804 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/A?symbol=A&type=trailingPegRatio&period1=1726963200&period2=1742774400
2025-03-23 11:12:32,805 - yfinance - DEBUG - params=None
2025-03-23 11:12:32,805 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:32,805 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:32,805 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,805 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:32,805 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:32,805 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,805 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:32,845 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v10/finance/quoteSummary/AAP?modules=financialData%2CquoteType%2CdefaultKeyStatistics%2CassetProfile%2CsummaryDetail&corsDomain=finance.yahoo.com&formatted=false&symbol=AAP&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:12:32,845 - yfinance - DEBUG - response code=200
2025-03-23 11:12:32,846 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:32,846 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:32,846 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:12:32,846 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:32,846 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:32,846 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:12:32,846 - yfinance - DEBUG - params={'symbols': 'AAP', 'formatted': 'false'}
2025-03-23 11:12:32,846 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:32,846 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:32,846 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,846 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:32,846 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:32,846 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,846 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:32,848 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (3): query1.finance.yahoo.com:443
2025-03-23 11:12:32,856 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /ws/fundamentals-timeseries/v1/finance/timeseries/A?symbol=A&type=trailingPegRatio&period1=1726963200&period2=1742774400&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 244
2025-03-23 11:12:32,856 - yfinance - DEBUG - response code=200
2025-03-23 11:12:32,856 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:32,856 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:32,856 - app.services.yfinance_provider - INFO - Got info for ticker A: True
2025-03-23 11:12:32,856 - app.services.yfinance_provider - INFO - Valid ticker found: A
2025-03-23 11:12:32,860 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:ticker_validation:A
2025-03-23 11:12:32,860 - app.services.market_data - INFO - Provider returned results: ['A']
2025-03-23 11:12:32,860 - app.routes.options - INFO - Received results from market_data_service: ['A']
2025-03-23 11:12:32,860 - app.routes.options - INFO - Returning limited results: ['A']
2025-03-23 11:12:32,861 - app.main - INFO - RESPONSE: GET /options/search/A - Status: 200 - Time: 0.8025s
2025-03-23 11:12:32,869 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v7/finance/quote?symbols=AA&formatted=false&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 1130
2025-03-23 11:12:32,869 - yfinance - DEBUG - response code=200
2025-03-23 11:12:32,869 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:32,869 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:32,870 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:32,870 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:32,870 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/AA?symbol=AA&type=trailingPegRatio&period1=1726963200&period2=1742774400
2025-03-23 11:12:32,870 - yfinance - DEBUG - params=None
2025-03-23 11:12:32,870 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:32,870 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:32,870 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,870 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:32,870 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:32,871 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,871 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:32,923 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /ws/fundamentals-timeseries/v1/finance/timeseries/AA?symbol=AA&type=trailingPegRatio&period1=1726963200&period2=1742774400&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 95
2025-03-23 11:12:32,924 - yfinance - DEBUG - response code=200
2025-03-23 11:12:32,924 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:32,924 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:32,924 - app.services.yfinance_provider - INFO - Got info for ticker AA: True
2025-03-23 11:12:32,924 - app.services.yfinance_provider - INFO - Valid ticker found: AA
2025-03-23 11:12:32,930 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:ticker_validation:AA
2025-03-23 11:12:32,930 - app.services.market_data - INFO - Provider returned results: ['AA']
2025-03-23 11:12:32,930 - app.routes.options - INFO - Received results from market_data_service: ['AA']
2025-03-23 11:12:32,930 - app.routes.options - INFO - Returning limited results: ['AA']
2025-03-23 11:12:32,931 - app.main - INFO - RESPONSE: GET /options/search/AA - Status: 200 - Time: 0.6693s
2025-03-23 11:12:32,937 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v7/finance/quote?symbols=AAP&formatted=false&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 1228
2025-03-23 11:12:32,938 - yfinance - DEBUG - response code=200
2025-03-23 11:12:32,938 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:32,938 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:32,939 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:32,939 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:32,939 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/AAP?symbol=AAP&type=trailingPegRatio&period1=1726963200&period2=1742774400
2025-03-23 11:12:32,939 - yfinance - DEBUG - params=None
2025-03-23 11:12:32,939 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:32,939 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:32,939 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,939 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:32,939 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:32,939 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:32,939 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:33,072 - app.main - INFO - REQUEST: GET /options/search/AAPL?limit=10 from 127.0.0.1
2025-03-23 11:12:33,073 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:12:33,073 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:33,074 - app.routes.options - INFO - Received ticker search request for query: AAPL, limit: 10
2025-03-23 11:12:33,074 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: AAPL
2025-03-23 11:12:33,074 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: AAPL
2025-03-23 11:12:33,074 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-23 11:12:33,074 - app.services.yfinance_provider - INFO - search_tickers called with query: AAPL
2025-03-23 11:12:33,074 - app.services.yfinance_provider - INFO - Standardized ticker: AAPL
2025-03-23 11:12:33,074 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:AAPL
2025-03-23 11:12:33,077 - app.services.yfinance_provider - INFO - Fetching yfinance data for ticker: AAPL
2025-03-23 11:12:33,077 - app.services.yfinance_provider - INFO - Getting info for ticker: AAPL
2025-03-23 11:12:33,077 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/AAPL
2025-03-23 11:12:33,077 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:33,077 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:33,077 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/AAPL
2025-03-23 11:12:33,077 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'AAPL'}
2025-03-23 11:12:33,078 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:33,078 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:33,078 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:33,078 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:33,078 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:33,078 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:33,078 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:33,324 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /ws/fundamentals-timeseries/v1/finance/timeseries/AAP?symbol=AAP&type=trailingPegRatio&period1=1726963200&period2=1742774400&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 245
2025-03-23 11:12:33,325 - yfinance - DEBUG - response code=200
2025-03-23 11:12:33,325 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:33,325 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:33,325 - app.services.yfinance_provider - INFO - Got info for ticker AAP: True
2025-03-23 11:12:33,325 - app.services.yfinance_provider - INFO - Valid ticker found: AAP
2025-03-23 11:12:33,332 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:ticker_validation:AAP
2025-03-23 11:12:33,332 - app.services.market_data - INFO - Provider returned results: ['AAP']
2025-03-23 11:12:33,332 - app.routes.options - INFO - Received results from market_data_service: ['AAP']
2025-03-23 11:12:33,332 - app.routes.options - INFO - Returning limited results: ['AAP']
2025-03-23 11:12:33,333 - app.main - INFO - RESPONSE: GET /options/search/AAP - Status: 200 - Time: 0.6400s
2025-03-23 11:12:33,373 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v10/finance/quoteSummary/AAPL?modules=financialData%2CquoteType%2CdefaultKeyStatistics%2CassetProfile%2CsummaryDetail&corsDomain=finance.yahoo.com&formatted=false&symbol=AAPL&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 3153
2025-03-23 11:12:33,374 - yfinance - DEBUG - response code=200
2025-03-23 11:12:33,374 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:33,374 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:33,374 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:12:33,374 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:33,374 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:33,374 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:12:33,375 - yfinance - DEBUG - params={'symbols': 'AAPL', 'formatted': 'false'}
2025-03-23 11:12:33,375 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:33,375 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:33,375 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:33,375 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:33,375 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:33,375 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:33,375 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:33,433 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v7/finance/quote?symbols=AAPL&formatted=false&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 1158
2025-03-23 11:12:33,434 - yfinance - DEBUG - response code=200
2025-03-23 11:12:33,434 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:33,434 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:33,435 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:33,435 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:33,435 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/AAPL?symbol=AAPL&type=trailingPegRatio&period1=1726963200&period2=1742774400
2025-03-23 11:12:33,435 - yfinance - DEBUG - params=None
2025-03-23 11:12:33,436 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:33,436 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:33,436 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:33,436 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:33,436 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:33,436 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:33,436 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:33,897 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /ws/fundamentals-timeseries/v1/finance/timeseries/AAPL?symbol=AAPL&type=trailingPegRatio&period1=1726963200&period2=1742774400&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 247
2025-03-23 11:12:33,898 - yfinance - DEBUG - response code=200
2025-03-23 11:12:33,898 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:33,899 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:33,899 - app.services.yfinance_provider - INFO - Got info for ticker AAPL: True
2025-03-23 11:12:33,899 - app.services.yfinance_provider - INFO - Valid ticker found: AAPL
2025-03-23 11:12:33,904 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:ticker_validation:AAPL
2025-03-23 11:12:33,904 - app.services.market_data - INFO - Provider returned results: ['AAPL']
2025-03-23 11:12:33,904 - app.routes.options - INFO - Received results from market_data_service: ['AAPL']
2025-03-23 11:12:33,904 - app.routes.options - INFO - Returning limited results: ['AAPL']
2025-03-23 11:12:33,905 - app.main - INFO - RESPONSE: GET /options/search/AAPL - Status: 200 - Time: 0.8325s
2025-03-23 11:12:39,637 - app.main - INFO - REQUEST: GET /options/chains/AAPL/expirations? from 127.0.0.1
2025-03-23 11:12:39,638 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:12:39,638 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:39,638 - app.dependencies - DEBUG - Creating new OptionChainService instance with MarketDataService
2025-03-23 11:12:39,638 - app.routes.options - INFO - Getting expirations for ticker: AAPL
2025-03-23 11:12:39,642 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:39,642 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:39,642 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v7/finance/options/AAPL
2025-03-23 11:12:39,642 - yfinance - DEBUG - params=None
2025-03-23 11:12:39,642 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:39,642 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:39,642 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:39,642 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:39,642 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:39,643 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:39,643 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:39,948 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v7/finance/options/AAPL?crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:12:39,949 - yfinance - DEBUG - response code=200
2025-03-23 11:12:39,949 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:39,949 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:39,955 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:option_expirations:AAPL
2025-03-23 11:12:39,955 - app.routes.options - INFO - Found 20 expirations for AAPL
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2025-03-28 00:00:00, days to expiration: 5
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2025-04-04 00:00:00, days to expiration: 12
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2025-04-11 00:00:00, days to expiration: 19
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2025-04-17 00:00:00, days to expiration: 25
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2025-04-25 00:00:00, days to expiration: 33
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2025-05-02 00:00:00, days to expiration: 40
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2025-05-16 00:00:00, days to expiration: 54
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2025-06-20 00:00:00, days to expiration: 89
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2025-07-18 00:00:00, days to expiration: 117
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2025-08-15 00:00:00, days to expiration: 145
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2025-09-19 00:00:00, days to expiration: 180
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2025-10-17 00:00:00, days to expiration: 208
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2025-12-19 00:00:00, days to expiration: 271
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2026-01-16 00:00:00, days to expiration: 299
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2026-03-20 00:00:00, days to expiration: 362
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2026-06-18 00:00:00, days to expiration: 452
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2026-12-18 00:00:00, days to expiration: 635
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2027-01-15 00:00:00, days to expiration: 663
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2027-06-17 00:00:00, days to expiration: 816
2025-03-23 11:12:39,956 - app.routes.options - INFO - Expiration: 2027-12-17 00:00:00, days to expiration: 999
2025-03-23 11:12:39,957 - app.main - INFO - RESPONSE: GET /options/chains/AAPL/expirations - Status: 200 - Time: 0.3200s
2025-03-23 11:12:39,966 - app.main - INFO - REQUEST: GET /options/chains/AAPL/2025-03-28? from 127.0.0.1
2025-03-23 11:12:39,966 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:12:39,966 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:39,967 - app.dependencies - DEBUG - Creating new OptionChainService instance with MarketDataService
2025-03-23 11:12:39,967 - app.routes.options - INFO - Getting options for ticker: AAPL, expiration: 2025-03-28, type: None
2025-03-23 11:12:39,967 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_option_chain called for ticker: AAPL, expiration: 2025-03-28 00:00:00
2025-03-23 11:12:39,967 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Cache key: yfinance:option_chain:AAPL:2025-03-28 00:00:00
2025-03-23 11:12:39,967 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking for cached data with key: yfinance:option_chain:AAPL:2025-03-28 00:00:00
2025-03-23 11:12:39,968 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for AAPL
2025-03-23 11:12:39,968 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Fetching available expirations for AAPL
2025-03-23 11:12:39,968 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:39,968 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:39,968 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v7/finance/options/AAPL
2025-03-23 11:12:39,968 - yfinance - DEBUG - params=None
2025-03-23 11:12:39,968 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:39,968 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:39,968 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:39,968 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:39,968 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:39,969 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:39,969 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:40,010 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v7/finance/options/AAPL?crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 6786
2025-03-23 11:12:40,011 - yfinance - DEBUG - response code=200
2025-03-23 11:12:40,011 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:40,011 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:40,013 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Found 20 expirations for AAPL
2025-03-23 11:12:40,013 - yfinance - DEBUG - Entering get()
2025-03-23 11:12:40,013 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:12:40,013 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v7/finance/options/AAPL?date=1743120000
2025-03-23 11:12:40,013 - yfinance - DEBUG - params=None
2025-03-23 11:12:40,013 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:12:40,013 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:40,013 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:40,013 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:40,013 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:40,013 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:40,014 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:12:40,105 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v7/finance/options/AAPL?date=1743120000&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:12:40,106 - yfinance - DEBUG - response code=200
2025-03-23 11:12:40,106 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:12:40,106 - yfinance - DEBUG - Exiting get()
2025-03-23 11:12:40,118 - app.services.yfinance_provider - INFO - Sample option data structure: {'contractSymbol': 'AAPL250328C00100000', 'lastTradeDate': 1742586915000, 'strike': 100.0, 'lastPrice': 118.4, 'bid': 117.95, 'ask': 118.85, 'change': 118.4, 'percentChange': None, 'volume': 41.0, 'openInterest': 0, 'impliedVolatility': 2.5390661523, 'inTheMoney': True, 'contractSize': 'REGULAR', 'currency': 'USD', 'optionType': 'call', 'underlying': 'AAPL', 'expiration_date': '2025-03-28'}
2025-03-23 11:12:40,118 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Getting underlying price for AAPL before processing options
2025-03-23 11:12:40,118 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AAPL
2025-03-23 11:12:40,118 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AAPL
2025-03-23 11:12:40,122 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: AAPL
2025-03-23 11:12:40,122 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for AAPL
2025-03-23 11:12:40,122 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for AAPL
2025-03-23 11:12:40,122 - yfinance - DEBUG - Entering history()
2025-03-23 11:12:40,122 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['AAPL', 1, 0])
2025-03-23 11:12:40,123 - yfinance - DEBUG -  Entering history()
2025-03-23 11:12:40,123 - yfinance - DEBUG - AAPL: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:12:40,123 - yfinance - DEBUG -   Entering get()
2025-03-23 11:12:40,123 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:12:40,123 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/AAPL
2025-03-23 11:12:40,123 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:12:40,123 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:12:40,123 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:12:40,123 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:12:40,123 - yfinance - DEBUG - reusing cookie
2025-03-23 11:12:40,123 - yfinance - DEBUG - reusing crumb
2025-03-23 11:12:40,123 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:12:40,123 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:12:40,231 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/AAPL?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:12:40,232 - yfinance - DEBUG - response code=200
2025-03-23 11:12:40,232 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:12:40,232 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:12:40,235 - yfinance - DEBUG - AAPL: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:12:40,237 - yfinance - DEBUG - AAPL: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:12:40,243 - yfinance - DEBUG - AAPL: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:12:40,244 - yfinance - DEBUG - AAPL: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:12:40,244 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:12:40,244 - yfinance - DEBUG - Exiting history()
2025-03-23 11:12:40,246 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for AAPL: 218.27000427246094
2025-03-23 11:12:40,246 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 218.27000427246094 for AAPL with TTL=300
2025-03-23 11:12:40,249 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:AAPL
2025-03-23 11:12:40,249 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 218.27000427246094 for AAPL
2025-03-23 11:12:40,250 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Retrieved underlying price for AAPL: 218.27000427246094
2025-03-23 11:12:40,250 - app.services.yfinance_provider - DEBUG - Sample option keys: dict_keys(['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'optionType', 'underlying', 'expiration_date'])
2025-03-23 11:12:40,250 - app.services.yfinance_provider - DEBUG - Sample standardized option: {'ticker': 'AAPL', 'expiration': '2025-03-28T00:00:00', 'strike': 100.0, 'option_type': 'call', 'bid': 117.95, 'ask': 118.85, 'last': 118.4, 'volume': 41, 'open_interest': 0, 'implied_volatility': 2.5390661523, 'delta': None, 'gamma': None, 'theta': None, 'vega': None, 'rho': None, 'in_the_money': True, 'underlying_price': 218.27000427246094}
2025-03-23 11:12:40,255 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:option_chain:AAPL:2025-03-28 00:00:00
2025-03-23 11:12:40,255 - app.routes.options - INFO - Found 128 options for AAPL expiring on 2025-03-28
2025-03-23 11:12:40,255 - app.routes.options - INFO - Returning 128 options after filtering
2025-03-23 11:12:40,257 - app.main - INFO - RESPONSE: GET /options/chains/AAPL/2025-03-28 - Status: 200 - Time: 0.2909s
2025-03-23 11:12:47,156 - app.main - INFO - REQUEST: POST /debug/log? from 127.0.0.1
2025-03-23 11:12:47,158 - app.main - INFO - RESPONSE: POST /debug/log - Status: 200 - Time: 0.0016s
2025-03-23 11:12:47,370 - app.main - INFO - REQUEST: POST /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-23 11:12:47,371 - app.main - INFO - RESPONSE: POST /debug/clear-logs - Status: 200 - Time: 0.0004s
2025-03-23 11:12:47,439 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-23 11:12:47,441 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,441 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:12:47,441 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:12:47,441 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:12:47,441 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:12:47,441 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,441 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:12:47,441 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:12:47,442 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:12:47,442 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:12:47,442 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,442 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:12:47,442 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:12:47,442 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:12:47,442 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:12:47,442 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,442 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:12:47,442 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:12:47,442 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:12:47,442 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:12:47,443 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,443 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:12:47,443 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:12:47,443 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:MA
2025-03-23 11:12:47,443 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:MA, returning price: 535.6900024414062
2025-03-23 11:12:47,443 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,443 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:12:47,443 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:12:47,443 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:12:47,443 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:12:47,443 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,443 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:12:47,443 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:12:47,443 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:12:47,443 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:12:47,444 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,444 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:12:47,444 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:12:47,444 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:WMT
2025-03-23 11:12:47,444 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:WMT, returning price: 85.9800033569336
2025-03-23 11:12:47,444 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,444 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:12:47,444 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:12:47,445 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:ZM
2025-03-23 11:12:47,445 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:ZM, returning price: 75.97000122070312
2025-03-23 11:12:47,446 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 0.0068s
2025-03-23 11:12:47,450 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-23 11:12:47,451 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,451 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:12:47,451 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:12:47,452 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:12:47,452 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:12:47,452 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,452 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:12:47,452 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:12:47,452 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:12:47,452 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:12:47,452 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,452 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:12:47,452 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:12:47,453 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:12:47,453 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:12:47,453 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,453 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:12:47,453 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:12:47,453 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:12:47,453 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:12:47,454 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,454 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:12:47,454 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:12:47,454 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:MA
2025-03-23 11:12:47,454 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:MA, returning price: 535.6900024414062
2025-03-23 11:12:47,454 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,454 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:12:47,454 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:12:47,454 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:12:47,454 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:12:47,454 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,454 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:12:47,454 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:12:47,455 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:12:47,455 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:12:47,455 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,455 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:12:47,455 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:12:47,455 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:WMT
2025-03-23 11:12:47,455 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:WMT, returning price: 85.9800033569336
2025-03-23 11:12:47,455 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,455 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:12:47,455 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:12:47,456 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:ZM
2025-03-23 11:12:47,456 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:ZM, returning price: 75.97000122070312
2025-03-23 11:12:47,457 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 0.0064s
2025-03-23 11:12:47,481 - app.main - INFO - REQUEST: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f?force_recalculate=true from 127.0.0.1
2025-03-23 11:12:47,483 - app.main - INFO - REQUEST: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc?force_recalculate=true from 127.0.0.1
2025-03-23 11:12:47,483 - app.main - INFO - REQUEST: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13?force_recalculate=true from 127.0.0.1
2025-03-23 11:12:47,483 - app.main - INFO - REQUEST: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca?force_recalculate=true from 127.0.0.1
2025-03-23 11:12:47,483 - app.main - INFO - REQUEST: GET /greeks/position/1b2f75d1-b266-4aca-bfae-e505f35599c4?force_recalculate=true from 127.0.0.1
2025-03-23 11:12:47,483 - app.main - INFO - REQUEST: GET /greeks/position/84491be9-24b0-4e7f-bdb3-562f8383692c?force_recalculate=true from 127.0.0.1
2025-03-23 11:12:47,486 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,486 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,486 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,486 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,486 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,487 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,489 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:12:47,490 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:12:47,489 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:12:47,490 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:12:47,490 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:12:47,491 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:12:47,492 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:12:47,492 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:12:47,492 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:12:47,492 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:12:47,492 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:12:47,492 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:12:47,492 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:12:47,492 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:12:47,492 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:12:47,493 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:12:47,493 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:12:47,493 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:12:47,493 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:12:47,493 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:12:47,495 - app.main - INFO - RESPONSE: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f - Status: 200 - Time: 0.0134s
2025-03-23 11:12:47,495 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:MA
2025-03-23 11:12:47,495 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:12:47,496 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:MA, returning price: 535.6900024414062
2025-03-23 11:12:47,496 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:12:47,496 - app.main - INFO - RESPONSE: GET /greeks/position/84491be9-24b0-4e7f-bdb3-562f8383692c - Status: 200 - Time: 0.0132s
2025-03-23 11:12:47,497 - app.main - INFO - RESPONSE: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc - Status: 200 - Time: 0.0147s
2025-03-23 11:12:47,498 - app.main - INFO - REQUEST: GET /greeks/position/b4e12387-bfa8-4f07-b78a-f9cf1a5c08c6?force_recalculate=true from 127.0.0.1
2025-03-23 11:12:47,499 - app.main - INFO - REQUEST: GET /greeks/position/399f390e-6963-4ceb-80f8-00c4e6473225?force_recalculate=true from 127.0.0.1
2025-03-23 11:12:47,499 - app.main - INFO - REQUEST: GET /greeks/position/0c448da3-4170-4c94-9148-9b3e2176f573?force_recalculate=true from 127.0.0.1
2025-03-23 11:12:47,500 - app.main - INFO - RESPONSE: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13 - Status: 200 - Time: 0.0171s
2025-03-23 11:12:47,501 - app.main - INFO - RESPONSE: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca - Status: 200 - Time: 0.0177s
2025-03-23 11:12:47,501 - app.main - INFO - RESPONSE: GET /greeks/position/1b2f75d1-b266-4aca-bfae-e505f35599c4 - Status: 200 - Time: 0.0178s
2025-03-23 11:12:47,502 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,502 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,502 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:12:47,504 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:12:47,504 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:12:47,504 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:12:47,504 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:12:47,504 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:12:47,504 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:ZM
2025-03-23 11:12:47,504 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:12:47,505 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:ZM, returning price: 75.97000122070312
2025-03-23 11:12:47,505 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:12:47,505 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:WMT
2025-03-23 11:12:47,505 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:12:47,506 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:WMT, returning price: 85.9800033569336
2025-03-23 11:12:47,507 - app.main - INFO - RESPONSE: GET /greeks/position/0c448da3-4170-4c94-9148-9b3e2176f573 - Status: 200 - Time: 0.0074s
2025-03-23 11:12:47,507 - app.main - INFO - RESPONSE: GET /greeks/position/b4e12387-bfa8-4f07-b78a-f9cf1a5c08c6 - Status: 200 - Time: 0.0093s
2025-03-23 11:12:47,508 - app.main - INFO - RESPONSE: GET /greeks/position/399f390e-6963-4ceb-80f8-00c4e6473225 - Status: 200 - Time: 0.0092s
2025-03-23 11:15:00,219 - app.main - INFO - REQUEST: GET /options/search/A?limit=10 from 127.0.0.1
2025-03-23 11:15:00,220 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:15:00,220 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:15:00,221 - app.routes.options - INFO - Received ticker search request for query: A, limit: 10
2025-03-23 11:15:00,221 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: A
2025-03-23 11:15:00,221 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: A
2025-03-23 11:15:00,221 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-23 11:15:00,221 - app.services.yfinance_provider - INFO - search_tickers called with query: A
2025-03-23 11:15:00,221 - app.services.yfinance_provider - INFO - Standardized ticker: A
2025-03-23 11:15:00,221 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:A
2025-03-23 11:15:00,222 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:ticker_validation:A
2025-03-23 11:15:00,223 - app.services.yfinance_provider - INFO - Cache hit for yfinance:ticker_validation:A: ['A']
2025-03-23 11:15:00,223 - app.services.market_data - INFO - Provider returned results: ['A']
2025-03-23 11:15:00,223 - app.routes.options - INFO - Received results from market_data_service: ['A']
2025-03-23 11:15:00,223 - app.routes.options - INFO - Returning limited results: ['A']
2025-03-23 11:15:00,223 - app.main - INFO - RESPONSE: GET /options/search/A - Status: 200 - Time: 0.0041s
2025-03-23 11:15:00,440 - app.main - INFO - REQUEST: GET /options/search/AA?limit=10 from 127.0.0.1
2025-03-23 11:15:00,441 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:15:00,441 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:15:00,442 - app.routes.options - INFO - Received ticker search request for query: AA, limit: 10
2025-03-23 11:15:00,442 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: AA
2025-03-23 11:15:00,442 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: AA
2025-03-23 11:15:00,442 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-23 11:15:00,442 - app.services.yfinance_provider - INFO - search_tickers called with query: AA
2025-03-23 11:15:00,442 - app.services.yfinance_provider - INFO - Standardized ticker: AA
2025-03-23 11:15:00,442 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:AA
2025-03-23 11:15:00,444 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:ticker_validation:AA
2025-03-23 11:15:00,444 - app.services.yfinance_provider - INFO - Cache hit for yfinance:ticker_validation:AA: ['AA']
2025-03-23 11:15:00,444 - app.services.market_data - INFO - Provider returned results: ['AA']
2025-03-23 11:15:00,444 - app.routes.options - INFO - Received results from market_data_service: ['AA']
2025-03-23 11:15:00,445 - app.routes.options - INFO - Returning limited results: ['AA']
2025-03-23 11:15:00,446 - app.main - INFO - RESPONSE: GET /options/search/AA - Status: 200 - Time: 0.0057s
2025-03-23 11:15:00,843 - app.main - INFO - REQUEST: GET /options/search/AAP?limit=10 from 127.0.0.1
2025-03-23 11:15:00,844 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:15:00,844 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:15:00,845 - app.routes.options - INFO - Received ticker search request for query: AAP, limit: 10
2025-03-23 11:15:00,845 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: AAP
2025-03-23 11:15:00,845 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: AAP
2025-03-23 11:15:00,845 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-23 11:15:00,845 - app.services.yfinance_provider - INFO - search_tickers called with query: AAP
2025-03-23 11:15:00,846 - app.services.yfinance_provider - INFO - Standardized ticker: AAP
2025-03-23 11:15:00,846 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:AAP
2025-03-23 11:15:00,847 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:ticker_validation:AAP
2025-03-23 11:15:00,847 - app.services.yfinance_provider - INFO - Cache hit for yfinance:ticker_validation:AAP: ['AAP']
2025-03-23 11:15:00,847 - app.services.market_data - INFO - Provider returned results: ['AAP']
2025-03-23 11:15:00,847 - app.routes.options - INFO - Received results from market_data_service: ['AAP']
2025-03-23 11:15:00,847 - app.routes.options - INFO - Returning limited results: ['AAP']
2025-03-23 11:15:00,848 - app.main - INFO - RESPONSE: GET /options/search/AAP - Status: 200 - Time: 0.0045s
2025-03-23 11:15:01,172 - app.main - INFO - REQUEST: GET /options/search/AAPL?limit=10 from 127.0.0.1
2025-03-23 11:15:01,173 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:15:01,173 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:15:01,173 - app.routes.options - INFO - Received ticker search request for query: AAPL, limit: 10
2025-03-23 11:15:01,173 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: AAPL
2025-03-23 11:15:01,173 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: AAPL
2025-03-23 11:15:01,173 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-23 11:15:01,174 - app.services.yfinance_provider - INFO - search_tickers called with query: AAPL
2025-03-23 11:15:01,174 - app.services.yfinance_provider - INFO - Standardized ticker: AAPL
2025-03-23 11:15:01,174 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:AAPL
2025-03-23 11:15:01,175 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:ticker_validation:AAPL
2025-03-23 11:15:01,175 - app.services.yfinance_provider - INFO - Cache hit for yfinance:ticker_validation:AAPL: ['AAPL']
2025-03-23 11:15:01,175 - app.services.market_data - INFO - Provider returned results: ['AAPL']
2025-03-23 11:15:01,175 - app.routes.options - INFO - Received results from market_data_service: ['AAPL']
2025-03-23 11:15:01,175 - app.routes.options - INFO - Returning limited results: ['AAPL']
2025-03-23 11:15:01,176 - app.main - INFO - RESPONSE: GET /options/search/AAPL - Status: 200 - Time: 0.0038s
2025-03-23 11:15:18,907 - app.main - INFO - REQUEST: GET /options/chains/AAPL/expirations? from 127.0.0.1
2025-03-23 11:15:18,908 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:15:18,908 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:15:18,909 - app.dependencies - DEBUG - Creating new OptionChainService instance with MarketDataService
2025-03-23 11:15:18,909 - app.routes.options - INFO - Getting expirations for ticker: AAPL
2025-03-23 11:15:18,910 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:option_expirations:AAPL
2025-03-23 11:15:18,910 - app.routes.options - INFO - Found 20 expirations for AAPL
2025-03-23 11:15:18,910 - app.routes.options - INFO - Expiration: 2025-03-28 00:00:00, days to expiration: 5
2025-03-23 11:15:18,910 - app.routes.options - INFO - Expiration: 2025-04-04 00:00:00, days to expiration: 12
2025-03-23 11:15:18,910 - app.routes.options - INFO - Expiration: 2025-04-11 00:00:00, days to expiration: 19
2025-03-23 11:15:18,910 - app.routes.options - INFO - Expiration: 2025-04-17 00:00:00, days to expiration: 25
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2025-04-25 00:00:00, days to expiration: 33
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2025-05-02 00:00:00, days to expiration: 40
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2025-05-16 00:00:00, days to expiration: 54
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2025-06-20 00:00:00, days to expiration: 89
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2025-07-18 00:00:00, days to expiration: 117
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2025-08-15 00:00:00, days to expiration: 145
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2025-09-19 00:00:00, days to expiration: 180
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2025-10-17 00:00:00, days to expiration: 208
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2025-12-19 00:00:00, days to expiration: 271
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2026-01-16 00:00:00, days to expiration: 299
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2026-03-20 00:00:00, days to expiration: 362
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2026-06-18 00:00:00, days to expiration: 452
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2026-12-18 00:00:00, days to expiration: 635
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2027-01-15 00:00:00, days to expiration: 663
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2027-06-17 00:00:00, days to expiration: 816
2025-03-23 11:15:18,911 - app.routes.options - INFO - Expiration: 2027-12-17 00:00:00, days to expiration: 999
2025-03-23 11:15:18,912 - app.main - INFO - RESPONSE: GET /options/chains/AAPL/expirations - Status: 200 - Time: 0.0054s
2025-03-23 11:15:18,917 - app.main - INFO - REQUEST: GET /options/chains/AAPL/2025-03-28? from 127.0.0.1
2025-03-23 11:15:18,918 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:15:18,918 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:15:18,919 - app.dependencies - DEBUG - Creating new OptionChainService instance with MarketDataService
2025-03-23 11:15:18,919 - app.routes.options - INFO - Getting options for ticker: AAPL, expiration: 2025-03-28, type: None
2025-03-23 11:15:18,919 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_option_chain called for ticker: AAPL, expiration: 2025-03-28 00:00:00
2025-03-23 11:15:18,919 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Cache key: yfinance:option_chain:AAPL:2025-03-28 00:00:00
2025-03-23 11:15:18,919 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking for cached data with key: yfinance:option_chain:AAPL:2025-03-28 00:00:00
2025-03-23 11:15:18,920 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:option_chain:AAPL:2025-03-28 00:00:00
2025-03-23 11:15:18,920 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:option_chain:AAPL:2025-03-28 00:00:00, returning 128 options
2025-03-23 11:15:18,920 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning cached option chain data for AAPL
2025-03-23 11:15:18,920 - app.routes.options - INFO - Found 128 options for AAPL expiring on 2025-03-28
2025-03-23 11:15:18,920 - app.routes.options - INFO - Returning 128 options after filtering
2025-03-23 11:15:18,921 - app.main - INFO - RESPONSE: GET /options/chains/AAPL/2025-03-28 - Status: 200 - Time: 0.0038s
2025-03-23 11:17:59,399 - app.main - INFO - REQUEST: OPTIONS /debug/log? from 127.0.0.1
2025-03-23 11:17:59,399 - app.main - INFO - RESPONSE: OPTIONS /debug/log - Status: 200 - Time: 0.0004s
2025-03-23 11:17:59,401 - app.main - INFO - REQUEST: POST /debug/log? from 127.0.0.1
2025-03-23 11:17:59,403 - app.main - INFO - RESPONSE: POST /debug/log - Status: 200 - Time: 0.0018s
2025-03-23 11:17:59,504 - app.main - INFO - REQUEST: POST /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-23 11:17:59,504 - app.main - INFO - RESPONSE: POST /debug/clear-logs - Status: 200 - Time: 0.0004s
2025-03-23 11:17:59,682 - app.main - INFO - REQUEST: OPTIONS /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-23 11:17:59,683 - app.main - INFO - RESPONSE: OPTIONS /debug/clear-logs - Status: 200 - Time: 0.0001s
2025-03-23 11:17:59,683 - app.main - INFO - REQUEST: POST /debug/clear-logs?type=frontend from 127.0.0.1
2025-03-23 11:17:59,684 - app.main - INFO - RESPONSE: POST /debug/clear-logs - Status: 200 - Time: 0.0004s
2025-03-23 11:17:59,811 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-23 11:17:59,813 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:17:59,813 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:17:59,813 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:17:59,815 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: IBM
2025-03-23 11:17:59,815 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for IBM
2025-03-23 11:17:59,815 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for IBM
2025-03-23 11:17:59,816 - yfinance - DEBUG - Entering history()
2025-03-23 11:17:59,816 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['IBM', 1, 0])
2025-03-23 11:17:59,816 - yfinance - DEBUG -  Entering history()
2025-03-23 11:17:59,816 - yfinance - DEBUG - IBM: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:17:59,816 - yfinance - DEBUG -   Entering get()
2025-03-23 11:17:59,816 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:17:59,816 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/IBM
2025-03-23 11:17:59,816 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:17:59,816 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:17:59,816 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:17:59,816 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:17:59,816 - yfinance - DEBUG - reusing cookie
2025-03-23 11:17:59,816 - yfinance - DEBUG - reusing crumb
2025-03-23 11:17:59,816 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:17:59,816 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:17:59,817 - urllib3.connectionpool - DEBUG - Resetting dropped connection: query2.finance.yahoo.com
2025-03-23 11:18:00,099 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/IBM?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:18:00,460 - yfinance - DEBUG - response code=200
2025-03-23 11:18:00,460 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:18:00,460 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:18:00,464 - yfinance - DEBUG - IBM: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:18:00,466 - yfinance - DEBUG - IBM: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:18:00,472 - yfinance - DEBUG - IBM: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:18:00,473 - yfinance - DEBUG - IBM: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:18:00,473 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:18:00,473 - yfinance - DEBUG - Exiting history()
2025-03-23 11:18:00,474 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for IBM: 243.8699951171875
2025-03-23 11:18:00,474 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 243.8699951171875 for IBM with TTL=300
2025-03-23 11:18:00,478 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:IBM
2025-03-23 11:18:00,478 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 243.8699951171875 for IBM
2025-03-23 11:18:00,479 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:00,479 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:18:00,479 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:18:00,479 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:18:00,479 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:18:00,480 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:00,480 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:18:00,480 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:18:00,481 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:18:00,481 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:18:00,482 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:00,482 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:18:00,482 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:18:00,484 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: GS
2025-03-23 11:18:00,485 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for GS
2025-03-23 11:18:00,485 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for GS
2025-03-23 11:18:00,485 - yfinance - DEBUG - Entering history()
2025-03-23 11:18:00,485 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['GS', 1, 0])
2025-03-23 11:18:00,485 - yfinance - DEBUG -  Entering history()
2025-03-23 11:18:00,485 - yfinance - DEBUG - GS: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:18:00,485 - yfinance - DEBUG -   Entering get()
2025-03-23 11:18:00,485 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:18:00,485 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/GS
2025-03-23 11:18:00,485 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:18:00,485 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:18:00,485 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:18:00,485 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:18:00,485 - yfinance - DEBUG - reusing cookie
2025-03-23 11:18:00,485 - yfinance - DEBUG - reusing crumb
2025-03-23 11:18:00,485 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:18:00,485 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:18:00,983 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/GS?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:18:00,985 - yfinance - DEBUG - response code=200
2025-03-23 11:18:00,985 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:18:00,985 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:18:00,988 - yfinance - DEBUG - GS: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:18:00,989 - yfinance - DEBUG - GS: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:18:00,996 - yfinance - DEBUG - GS: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:18:00,997 - yfinance - DEBUG - GS: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:18:00,997 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:18:00,997 - yfinance - DEBUG - Exiting history()
2025-03-23 11:18:00,999 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for GS: 565.1400146484375
2025-03-23 11:18:00,999 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 565.1400146484375 for GS with TTL=300
2025-03-23 11:18:01,003 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:GS
2025-03-23 11:18:01,003 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 565.1400146484375 for GS
2025-03-23 11:18:01,003 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:01,003 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:18:01,003 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:18:01,005 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: MA
2025-03-23 11:18:01,005 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for MA
2025-03-23 11:18:01,006 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for MA
2025-03-23 11:18:01,006 - yfinance - DEBUG - Entering history()
2025-03-23 11:18:01,006 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['MA', 1, 0])
2025-03-23 11:18:01,006 - yfinance - DEBUG -  Entering history()
2025-03-23 11:18:01,006 - yfinance - DEBUG - MA: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:18:01,006 - yfinance - DEBUG -   Entering get()
2025-03-23 11:18:01,006 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:18:01,006 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/MA
2025-03-23 11:18:01,006 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:18:01,006 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:18:01,006 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:18:01,006 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:18:01,006 - yfinance - DEBUG - reusing cookie
2025-03-23 11:18:01,006 - yfinance - DEBUG - reusing crumb
2025-03-23 11:18:01,006 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:18:01,006 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:18:01,100 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/MA?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:18:01,101 - yfinance - DEBUG - response code=200
2025-03-23 11:18:01,101 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:18:01,101 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:18:01,102 - yfinance - DEBUG - MA: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:18:01,103 - yfinance - DEBUG - MA: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:18:01,106 - yfinance - DEBUG - MA: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:18:01,107 - yfinance - DEBUG - MA: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:18:01,107 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:18:01,107 - yfinance - DEBUG - Exiting history()
2025-03-23 11:18:01,108 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for MA: 535.6900024414062
2025-03-23 11:18:01,108 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 535.6900024414062 for MA with TTL=300
2025-03-23 11:18:01,110 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:MA
2025-03-23 11:18:01,110 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 535.6900024414062 for MA
2025-03-23 11:18:01,110 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:01,110 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:18:01,110 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:18:01,112 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: AVGO
2025-03-23 11:18:01,112 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for AVGO
2025-03-23 11:18:01,112 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for AVGO
2025-03-23 11:18:01,112 - yfinance - DEBUG - Entering history()
2025-03-23 11:18:01,112 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['AVGO', 1, 0])
2025-03-23 11:18:01,113 - yfinance - DEBUG -  Entering history()
2025-03-23 11:18:01,113 - yfinance - DEBUG - AVGO: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:18:01,113 - yfinance - DEBUG -   Entering get()
2025-03-23 11:18:01,113 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:18:01,113 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/AVGO
2025-03-23 11:18:01,113 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:18:01,113 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:18:01,113 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:18:01,113 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:18:01,113 - yfinance - DEBUG - reusing cookie
2025-03-23 11:18:01,113 - yfinance - DEBUG - reusing crumb
2025-03-23 11:18:01,113 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:18:01,113 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:18:01,507 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/AVGO?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:18:01,508 - yfinance - DEBUG - response code=200
2025-03-23 11:18:01,508 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:18:01,508 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:18:01,511 - yfinance - DEBUG - AVGO: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:18:01,512 - yfinance - DEBUG - AVGO: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:18:01,522 - yfinance - DEBUG - AVGO: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:18:01,522 - yfinance - DEBUG - AVGO: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:18:01,523 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:18:01,523 - yfinance - DEBUG - Exiting history()
2025-03-23 11:18:01,524 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for AVGO: 191.66000366210938
2025-03-23 11:18:01,524 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 191.66000366210938 for AVGO with TTL=300
2025-03-23 11:18:01,528 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:AVGO
2025-03-23 11:18:01,528 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 191.66000366210938 for AVGO
2025-03-23 11:18:01,528 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:01,528 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:18:01,528 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:18:01,528 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:18:01,529 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:18:01,529 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:01,529 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:18:01,529 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:18:01,531 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: WMT
2025-03-23 11:18:01,531 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for WMT
2025-03-23 11:18:01,531 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for WMT
2025-03-23 11:18:01,531 - yfinance - DEBUG - Entering history()
2025-03-23 11:18:01,531 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['WMT', 1, 0])
2025-03-23 11:18:01,532 - yfinance - DEBUG -  Entering history()
2025-03-23 11:18:01,532 - yfinance - DEBUG - WMT: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:18:01,532 - yfinance - DEBUG -   Entering get()
2025-03-23 11:18:01,532 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:18:01,532 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/WMT
2025-03-23 11:18:01,532 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:18:01,532 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:18:01,532 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:18:01,532 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:18:01,532 - yfinance - DEBUG - reusing cookie
2025-03-23 11:18:01,532 - yfinance - DEBUG - reusing crumb
2025-03-23 11:18:01,532 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:18:01,532 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:18:02,032 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/WMT?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:18:02,034 - yfinance - DEBUG - response code=200
2025-03-23 11:18:02,034 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:18:02,034 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:18:02,037 - yfinance - DEBUG - WMT: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:18:02,038 - yfinance - DEBUG - WMT: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:18:02,044 - yfinance - DEBUG - WMT: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:18:02,044 - yfinance - DEBUG - WMT: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:18:02,045 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:18:02,045 - yfinance - DEBUG - Exiting history()
2025-03-23 11:18:02,046 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for WMT: 85.9800033569336
2025-03-23 11:18:02,046 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 85.9800033569336 for WMT with TTL=300
2025-03-23 11:18:02,049 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:WMT
2025-03-23 11:18:02,049 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 85.9800033569336 for WMT
2025-03-23 11:18:02,049 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,049 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:18:02,049 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:18:02,052 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache miss, fetching stock price for ticker: ZM
2025-03-23 11:18:02,052 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for ZM
2025-03-23 11:18:02,052 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Attempting to get price from fast_info for ZM
2025-03-23 11:18:02,052 - yfinance - DEBUG - Entering history()
2025-03-23 11:18:02,052 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['ZM', 1, 0])
2025-03-23 11:18:02,052 - yfinance - DEBUG -  Entering history()
2025-03-23 11:18:02,053 - yfinance - DEBUG - ZM: Yahoo GET parameters: {'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:18:02,053 - yfinance - DEBUG -   Entering get()
2025-03-23 11:18:02,053 - yfinance - DEBUG -    Entering _make_request()
2025-03-23 11:18:02,053 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/ZM
2025-03-23 11:18:02,053 - yfinance - DEBUG - params={'range': '1y', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-03-23 11:18:02,053 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-03-23 11:18:02,053 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:18:02,053 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-03-23 11:18:02,053 - yfinance - DEBUG - reusing cookie
2025-03-23 11:18:02,053 - yfinance - DEBUG - reusing crumb
2025-03-23 11:18:02,053 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:18:02,053 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-03-23 11:18:02,113 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/ZM?range=1y&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:18:02,114 - yfinance - DEBUG - response code=200
2025-03-23 11:18:02,114 - yfinance - DEBUG -    Exiting _make_request()
2025-03-23 11:18:02,114 - yfinance - DEBUG -   Exiting get()
2025-03-23 11:18:02,117 - yfinance - DEBUG - ZM: yfinance received OHLC data: 2024-03-22 13:30:00 -> 2025-03-21 13:30:00
2025-03-23 11:18:02,118 - yfinance - DEBUG - ZM: OHLC after cleaning: 2024-03-22 09:30:00-04:00 -> 2025-03-21 09:30:00-04:00
2025-03-23 11:18:02,120 - yfinance - DEBUG - ZM: OHLC after combining events: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:18:02,121 - yfinance - DEBUG - ZM: yfinance returning OHLC: 2024-03-22 00:00:00-04:00 -> 2025-03-21 00:00:00-04:00
2025-03-23 11:18:02,121 - yfinance - DEBUG -  Exiting history()
2025-03-23 11:18:02,121 - yfinance - DEBUG - Exiting history()
2025-03-23 11:18:02,122 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: fast_info price for ZM: 75.97000122070312
2025-03-23 11:18:02,122 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Caching price 75.97000122070312 for ZM with TTL=300
2025-03-23 11:18:02,125 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:stock_price:ZM
2025-03-23 11:18:02,125 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Returning price 75.97000122070312 for ZM
2025-03-23 11:18:02,127 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 2.3153s
2025-03-23 11:18:02,136 - app.main - INFO - REQUEST: GET /positions/? from 127.0.0.1
2025-03-23 11:18:02,138 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,138 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:18:02,138 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:18:02,138 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:18:02,138 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:18:02,139 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,139 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:18:02,139 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:18:02,139 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:18:02,140 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:18:02,140 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,140 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:18:02,140 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:18:02,140 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:18:02,140 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:18:02,141 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,141 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:18:02,141 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:18:02,141 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:18:02,141 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:18:02,141 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,141 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:18:02,141 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:18:02,142 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:MA
2025-03-23 11:18:02,142 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:MA, returning price: 535.6900024414062
2025-03-23 11:18:02,142 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,142 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:18:02,142 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:18:02,142 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:18:02,143 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:18:02,143 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,143 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:18:02,143 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:18:02,143 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:18:02,143 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:18:02,143 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,143 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:18:02,143 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:18:02,144 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:WMT
2025-03-23 11:18:02,144 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:WMT, returning price: 85.9800033569336
2025-03-23 11:18:02,144 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,144 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:18:02,144 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:18:02,144 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:ZM
2025-03-23 11:18:02,144 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:ZM, returning price: 75.97000122070312
2025-03-23 11:18:02,146 - app.main - INFO - RESPONSE: GET /positions/ - Status: 200 - Time: 0.0094s
2025-03-23 11:18:02,176 - app.main - INFO - REQUEST: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f?force_recalculate=true from 127.0.0.1
2025-03-23 11:18:02,177 - app.main - INFO - REQUEST: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc?force_recalculate=true from 127.0.0.1
2025-03-23 11:18:02,178 - app.main - INFO - REQUEST: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13?force_recalculate=true from 127.0.0.1
2025-03-23 11:18:02,178 - app.main - INFO - REQUEST: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca?force_recalculate=true from 127.0.0.1
2025-03-23 11:18:02,178 - app.main - INFO - REQUEST: GET /greeks/position/1b2f75d1-b266-4aca-bfae-e505f35599c4?force_recalculate=true from 127.0.0.1
2025-03-23 11:18:02,178 - app.main - INFO - REQUEST: GET /greeks/position/84491be9-24b0-4e7f-bdb3-562f8383692c?force_recalculate=true from 127.0.0.1
2025-03-23 11:18:02,180 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,181 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,181 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,181 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,181 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,183 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:18:02,183 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,183 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:18:02,183 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:18:02,183 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: IBM
2025-03-23 11:18:02,184 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:18:02,184 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:18:02,184 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: MA
2025-03-23 11:18:02,184 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:18:02,185 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:IBM
2025-03-23 11:18:02,185 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:18:02,185 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:18:02,185 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:MA
2025-03-23 11:18:02,185 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:18:02,185 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:18:02,186 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:IBM
2025-03-23 11:18:02,186 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:18:02,187 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:18:02,187 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:MA
2025-03-23 11:18:02,187 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:IBM, returning price: 243.8699951171875
2025-03-23 11:18:02,187 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:18:02,188 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:18:02,188 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:MA, returning price: 535.6900024414062
2025-03-23 11:18:02,188 - app.main - INFO - RESPONSE: GET /greeks/position/667c1e42-d32e-4664-b482-bb8efe85285f - Status: 200 - Time: 0.0126s
2025-03-23 11:18:02,189 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:18:02,189 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:18:02,190 - app.main - INFO - RESPONSE: GET /greeks/position/902a5055-7d42-49af-8705-0249f37da8fc - Status: 200 - Time: 0.0133s
2025-03-23 11:18:02,191 - app.main - INFO - REQUEST: GET /greeks/position/b4e12387-bfa8-4f07-b78a-f9cf1a5c08c6?force_recalculate=true from 127.0.0.1
2025-03-23 11:18:02,192 - app.main - INFO - REQUEST: GET /greeks/position/399f390e-6963-4ceb-80f8-00c4e6473225?force_recalculate=true from 127.0.0.1
2025-03-23 11:18:02,193 - app.main - INFO - RESPONSE: GET /greeks/position/5332c6dc-4342-4748-9ffc-1087aad16f13 - Status: 200 - Time: 0.0149s
2025-03-23 11:18:02,193 - app.main - INFO - RESPONSE: GET /greeks/position/1b2f75d1-b266-4aca-bfae-e505f35599c4 - Status: 200 - Time: 0.0151s
2025-03-23 11:18:02,193 - app.main - INFO - RESPONSE: GET /greeks/position/b751c8b9-427b-4a77-bdee-d58a98dbfeca - Status: 200 - Time: 0.0155s
2025-03-23 11:18:02,194 - app.main - INFO - RESPONSE: GET /greeks/position/84491be9-24b0-4e7f-bdb3-562f8383692c - Status: 200 - Time: 0.0160s
2025-03-23 11:18:02,194 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,195 - app.main - INFO - REQUEST: GET /greeks/position/0c448da3-4170-4c94-9148-9b3e2176f573?force_recalculate=true from 127.0.0.1
2025-03-23 11:18:02,195 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,196 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: AVGO
2025-03-23 11:18:02,196 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:AVGO
2025-03-23 11:18:02,197 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:AVGO
2025-03-23 11:18:02,197 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: WMT
2025-03-23 11:18:02,198 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:WMT
2025-03-23 11:18:02,198 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:AVGO, returning price: 191.66000366210938
2025-03-23 11:18:02,198 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:02,198 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:WMT
2025-03-23 11:18:02,199 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:WMT, returning price: 85.9800033569336
2025-03-23 11:18:02,199 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: ZM
2025-03-23 11:18:02,199 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:ZM
2025-03-23 11:18:02,200 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:ZM
2025-03-23 11:18:02,200 - app.main - INFO - RESPONSE: GET /greeks/position/b4e12387-bfa8-4f07-b78a-f9cf1a5c08c6 - Status: 200 - Time: 0.0090s
2025-03-23 11:18:02,200 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:ZM, returning price: 75.97000122070312
2025-03-23 11:18:02,201 - app.main - INFO - RESPONSE: GET /greeks/position/399f390e-6963-4ceb-80f8-00c4e6473225 - Status: 200 - Time: 0.0086s
2025-03-23 11:18:02,201 - app.main - INFO - RESPONSE: GET /greeks/position/0c448da3-4170-4c94-9148-9b3e2176f573 - Status: 200 - Time: 0.0067s
2025-03-23 11:18:06,871 - app.main - INFO - REQUEST: GET /options/search/G?limit=10 from 127.0.0.1
2025-03-23 11:18:06,872 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:18:06,872 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:06,873 - app.routes.options - INFO - Received ticker search request for query: G, limit: 10
2025-03-23 11:18:06,873 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: G
2025-03-23 11:18:06,873 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: G
2025-03-23 11:18:06,874 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-23 11:18:06,874 - app.services.yfinance_provider - INFO - search_tickers called with query: G
2025-03-23 11:18:06,874 - app.services.yfinance_provider - INFO - Standardized ticker: G
2025-03-23 11:18:06,874 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:G
2025-03-23 11:18:06,878 - app.services.yfinance_provider - INFO - Fetching yfinance data for ticker: G
2025-03-23 11:18:06,879 - app.services.yfinance_provider - INFO - Getting info for ticker: G
2025-03-23 11:18:06,879 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/G
2025-03-23 11:18:06,879 - yfinance - DEBUG - Entering get()
2025-03-23 11:18:06,879 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:18:06,879 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/G
2025-03-23 11:18:06,879 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'G'}
2025-03-23 11:18:06,879 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:18:06,879 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:18:06,879 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:18:06,879 - yfinance - DEBUG - reusing cookie
2025-03-23 11:18:06,879 - yfinance - DEBUG - reusing crumb
2025-03-23 11:18:06,879 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:18:06,879 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:18:07,073 - app.main - INFO - REQUEST: GET /options/search/GS?limit=10 from 127.0.0.1
2025-03-23 11:18:07,075 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:18:07,075 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:07,075 - app.routes.options - INFO - Received ticker search request for query: GS, limit: 10
2025-03-23 11:18:07,075 - app.routes.options - INFO - Calling market_data_service.search_tickers with query: GS
2025-03-23 11:18:07,075 - app.services.market_data - INFO - MarketDataService.search_tickers called with query: GS
2025-03-23 11:18:07,075 - app.services.market_data - INFO - Delegating to provider: YFinanceProvider
2025-03-23 11:18:07,075 - app.services.yfinance_provider - INFO - search_tickers called with query: GS
2025-03-23 11:18:07,076 - app.services.yfinance_provider - INFO - Standardized ticker: GS
2025-03-23 11:18:07,076 - app.services.yfinance_provider - INFO - Checking cache for key: yfinance:ticker_validation:GS
2025-03-23 11:18:07,079 - app.services.yfinance_provider - INFO - Fetching yfinance data for ticker: GS
2025-03-23 11:18:07,080 - app.services.yfinance_provider - INFO - Getting info for ticker: GS
2025-03-23 11:18:07,080 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/GS
2025-03-23 11:18:07,080 - yfinance - DEBUG - Entering get()
2025-03-23 11:18:07,080 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:18:07,080 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/GS
2025-03-23 11:18:07,080 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'GS'}
2025-03-23 11:18:07,080 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:18:07,080 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:18:07,080 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:18:07,080 - yfinance - DEBUG - reusing cookie
2025-03-23 11:18:07,080 - yfinance - DEBUG - reusing crumb
2025-03-23 11:18:07,081 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:18:07,081 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:18:07,083 - urllib3.connectionpool - DEBUG - Resetting dropped connection: query2.finance.yahoo.com
2025-03-23 11:18:07,327 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v10/finance/quoteSummary/G?modules=financialData%2CquoteType%2CdefaultKeyStatistics%2CassetProfile%2CsummaryDetail&corsDomain=finance.yahoo.com&formatted=false&symbol=G&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 3110
2025-03-23 11:18:07,328 - yfinance - DEBUG - response code=200
2025-03-23 11:18:07,328 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:18:07,328 - yfinance - DEBUG - Exiting get()
2025-03-23 11:18:07,328 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:18:07,328 - yfinance - DEBUG - Entering get()
2025-03-23 11:18:07,328 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:18:07,328 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:18:07,328 - yfinance - DEBUG - params={'symbols': 'G', 'formatted': 'false'}
2025-03-23 11:18:07,329 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:18:07,329 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:18:07,329 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:18:07,329 - yfinance - DEBUG - reusing cookie
2025-03-23 11:18:07,329 - yfinance - DEBUG - reusing crumb
2025-03-23 11:18:07,329 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:18:07,329 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:18:07,331 - urllib3.connectionpool - DEBUG - Resetting dropped connection: query1.finance.yahoo.com
2025-03-23 11:18:07,364 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v10/finance/quoteSummary/GS?modules=financialData%2CquoteType%2CdefaultKeyStatistics%2CassetProfile%2CsummaryDetail&corsDomain=finance.yahoo.com&formatted=false&symbol=GS&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:18:07,365 - yfinance - DEBUG - response code=200
2025-03-23 11:18:07,366 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:18:07,366 - yfinance - DEBUG - Exiting get()
2025-03-23 11:18:07,366 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:18:07,367 - yfinance - DEBUG - Entering get()
2025-03-23 11:18:07,367 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:18:07,367 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-03-23 11:18:07,367 - yfinance - DEBUG - params={'symbols': 'GS', 'formatted': 'false'}
2025-03-23 11:18:07,368 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:18:07,368 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:18:07,368 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:18:07,368 - yfinance - DEBUG - reusing cookie
2025-03-23 11:18:07,368 - yfinance - DEBUG - reusing crumb
2025-03-23 11:18:07,368 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:18:07,368 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:18:07,370 - urllib3.connectionpool - DEBUG - Resetting dropped connection: query1.finance.yahoo.com
2025-03-23 11:18:07,416 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v7/finance/quote?symbols=G&formatted=false&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 1120
2025-03-23 11:18:07,417 - yfinance - DEBUG - response code=200
2025-03-23 11:18:07,418 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:18:07,418 - yfinance - DEBUG - Exiting get()
2025-03-23 11:18:07,419 - yfinance - DEBUG - Entering get()
2025-03-23 11:18:07,419 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:18:07,419 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/G?symbol=G&type=trailingPegRatio&period1=1726963200&period2=1742774400
2025-03-23 11:18:07,420 - yfinance - DEBUG - params=None
2025-03-23 11:18:07,420 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:18:07,420 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:18:07,420 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:18:07,420 - yfinance - DEBUG - reusing cookie
2025-03-23 11:18:07,420 - yfinance - DEBUG - reusing crumb
2025-03-23 11:18:07,420 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:18:07,420 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:18:07,798 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /v7/finance/quote?symbols=GS&formatted=false&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 1161
2025-03-23 11:18:07,800 - yfinance - DEBUG - response code=200
2025-03-23 11:18:07,800 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /ws/fundamentals-timeseries/v1/finance/timeseries/G?symbol=G&type=trailingPegRatio&period1=1726963200&period2=1742774400&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 94
2025-03-23 11:18:07,800 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:18:07,801 - yfinance - DEBUG - response code=200
2025-03-23 11:18:07,801 - yfinance - DEBUG - Exiting get()
2025-03-23 11:18:07,801 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:18:07,803 - yfinance - DEBUG - Entering get()
2025-03-23 11:18:07,804 - yfinance - DEBUG - Exiting get()
2025-03-23 11:18:07,804 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:18:07,804 - app.services.yfinance_provider - INFO - Got info for ticker G: True
2025-03-23 11:18:07,804 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/GS?symbol=GS&type=trailingPegRatio&period1=1726963200&period2=1742774400
2025-03-23 11:18:07,805 - app.services.yfinance_provider - INFO - Valid ticker found: G
2025-03-23 11:18:07,805 - yfinance - DEBUG - params=None
2025-03-23 11:18:07,806 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:18:07,807 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:18:07,808 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:18:07,808 - yfinance - DEBUG - reusing cookie
2025-03-23 11:18:07,808 - yfinance - DEBUG - reusing crumb
2025-03-23 11:18:07,808 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:18:07,808 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:18:07,812 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:ticker_validation:G
2025-03-23 11:18:07,812 - app.services.market_data - INFO - Provider returned results: ['G']
2025-03-23 11:18:07,812 - app.routes.options - INFO - Received results from market_data_service: ['G']
2025-03-23 11:18:07,812 - app.routes.options - INFO - Returning limited results: ['G']
2025-03-23 11:18:07,813 - app.main - INFO - RESPONSE: GET /options/search/G - Status: 200 - Time: 0.9416s
2025-03-23 11:18:07,856 - urllib3.connectionpool - DEBUG - https://query1.finance.yahoo.com:443 "GET /ws/fundamentals-timeseries/v1/finance/timeseries/GS?symbol=GS&type=trailingPegRatio&period1=1726963200&period2=1742774400&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 245
2025-03-23 11:18:07,857 - yfinance - DEBUG - response code=200
2025-03-23 11:18:07,857 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:18:07,857 - yfinance - DEBUG - Exiting get()
2025-03-23 11:18:07,857 - app.services.yfinance_provider - INFO - Got info for ticker GS: True
2025-03-23 11:18:07,857 - app.services.yfinance_provider - INFO - Valid ticker found: GS
2025-03-23 11:18:07,863 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:ticker_validation:GS
2025-03-23 11:18:07,864 - app.services.market_data - INFO - Provider returned results: ['GS']
2025-03-23 11:18:07,864 - app.routes.options - INFO - Received results from market_data_service: ['GS']
2025-03-23 11:18:07,864 - app.routes.options - INFO - Returning limited results: ['GS']
2025-03-23 11:18:07,865 - app.main - INFO - RESPONSE: GET /options/search/GS - Status: 200 - Time: 0.7912s
2025-03-23 11:18:08,664 - app.main - INFO - REQUEST: GET /options/chains/GS/expirations? from 127.0.0.1
2025-03-23 11:18:08,664 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:18:08,664 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:08,665 - app.dependencies - DEBUG - Creating new OptionChainService instance with MarketDataService
2025-03-23 11:18:08,665 - app.routes.options - INFO - Getting expirations for ticker: GS
2025-03-23 11:18:08,667 - yfinance - DEBUG - Entering get()
2025-03-23 11:18:08,667 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:18:08,667 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v7/finance/options/GS
2025-03-23 11:18:08,667 - yfinance - DEBUG - params=None
2025-03-23 11:18:08,667 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:18:08,667 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:18:08,667 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:18:08,668 - yfinance - DEBUG - reusing cookie
2025-03-23 11:18:08,668 - yfinance - DEBUG - reusing crumb
2025-03-23 11:18:08,668 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:18:08,668 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:18:08,940 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v7/finance/options/GS?crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:18:08,950 - yfinance - DEBUG - response code=200
2025-03-23 11:18:08,951 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:18:08,951 - yfinance - DEBUG - Exiting get()
2025-03-23 11:18:08,958 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:option_expirations:GS
2025-03-23 11:18:08,959 - app.routes.options - INFO - Found 19 expirations for GS
2025-03-23 11:18:08,960 - app.routes.options - INFO - Expiration: 2025-03-28 00:00:00, days to expiration: 5
2025-03-23 11:18:08,960 - app.routes.options - INFO - Expiration: 2025-04-04 00:00:00, days to expiration: 12
2025-03-23 11:18:08,960 - app.routes.options - INFO - Expiration: 2025-04-11 00:00:00, days to expiration: 19
2025-03-23 11:18:08,960 - app.routes.options - INFO - Expiration: 2025-04-17 00:00:00, days to expiration: 25
2025-03-23 11:18:08,960 - app.routes.options - INFO - Expiration: 2025-04-25 00:00:00, days to expiration: 33
2025-03-23 11:18:08,960 - app.routes.options - INFO - Expiration: 2025-05-02 00:00:00, days to expiration: 40
2025-03-23 11:18:08,960 - app.routes.options - INFO - Expiration: 2025-05-16 00:00:00, days to expiration: 54
2025-03-23 11:18:08,960 - app.routes.options - INFO - Expiration: 2025-06-20 00:00:00, days to expiration: 89
2025-03-23 11:18:08,960 - app.routes.options - INFO - Expiration: 2025-07-18 00:00:00, days to expiration: 117
2025-03-23 11:18:08,960 - app.routes.options - INFO - Expiration: 2025-08-15 00:00:00, days to expiration: 145
2025-03-23 11:18:08,960 - app.routes.options - INFO - Expiration: 2025-09-19 00:00:00, days to expiration: 180
2025-03-23 11:18:08,960 - app.routes.options - INFO - Expiration: 2025-10-17 00:00:00, days to expiration: 208
2025-03-23 11:18:08,961 - app.routes.options - INFO - Expiration: 2025-12-19 00:00:00, days to expiration: 271
2025-03-23 11:18:08,961 - app.routes.options - INFO - Expiration: 2026-01-16 00:00:00, days to expiration: 299
2025-03-23 11:18:08,961 - app.routes.options - INFO - Expiration: 2026-03-20 00:00:00, days to expiration: 362
2025-03-23 11:18:08,961 - app.routes.options - INFO - Expiration: 2026-06-18 00:00:00, days to expiration: 452
2025-03-23 11:18:08,961 - app.routes.options - INFO - Expiration: 2026-12-18 00:00:00, days to expiration: 635
2025-03-23 11:18:08,961 - app.routes.options - INFO - Expiration: 2027-01-15 00:00:00, days to expiration: 663
2025-03-23 11:18:08,961 - app.routes.options - INFO - Expiration: 2027-06-17 00:00:00, days to expiration: 816
2025-03-23 11:18:08,962 - app.main - INFO - RESPONSE: GET /options/chains/GS/expirations - Status: 200 - Time: 0.2980s
2025-03-23 11:18:08,977 - app.main - INFO - REQUEST: GET /options/chains/GS/2025-03-28? from 127.0.0.1
2025-03-23 11:18:08,978 - app.dependencies - DEBUG - Creating new MarketDataService instance
2025-03-23 11:18:08,978 - app.services.market_data - INFO - Using market data provider: YFinanceProvider
2025-03-23 11:18:08,978 - app.dependencies - DEBUG - Creating new OptionChainService instance with MarketDataService
2025-03-23 11:18:08,978 - app.routes.options - INFO - Getting options for ticker: GS, expiration: 2025-03-28, type: None
2025-03-23 11:18:08,979 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_option_chain called for ticker: GS, expiration: 2025-03-28 00:00:00
2025-03-23 11:18:08,979 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Cache key: yfinance:option_chain:GS:2025-03-28 00:00:00
2025-03-23 11:18:08,979 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking for cached data with key: yfinance:option_chain:GS:2025-03-28 00:00:00
2025-03-23 11:18:08,980 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Creating yfinance Ticker object for GS
2025-03-23 11:18:08,980 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Fetching available expirations for GS
2025-03-23 11:18:08,980 - yfinance - DEBUG - Entering get()
2025-03-23 11:18:08,980 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:18:08,980 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v7/finance/options/GS
2025-03-23 11:18:08,980 - yfinance - DEBUG - params=None
2025-03-23 11:18:08,980 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:18:08,980 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:18:08,980 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:18:08,980 - yfinance - DEBUG - reusing cookie
2025-03-23 11:18:08,981 - yfinance - DEBUG - reusing crumb
2025-03-23 11:18:08,981 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:18:08,981 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:18:09,390 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v7/finance/options/GS?crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 8531
2025-03-23 11:18:09,391 - yfinance - DEBUG - response code=200
2025-03-23 11:18:09,391 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:18:09,391 - yfinance - DEBUG - Exiting get()
2025-03-23 11:18:09,393 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Found 19 expirations for GS
2025-03-23 11:18:09,394 - yfinance - DEBUG - Entering get()
2025-03-23 11:18:09,395 - yfinance - DEBUG -  Entering _make_request()
2025-03-23 11:18:09,395 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v7/finance/options/GS?date=1743120000
2025-03-23 11:18:09,395 - yfinance - DEBUG - params=None
2025-03-23 11:18:09,395 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-03-23 11:18:09,395 - yfinance - DEBUG - cookie_mode = 'basic'
2025-03-23 11:18:09,395 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-03-23 11:18:09,395 - yfinance - DEBUG - reusing cookie
2025-03-23 11:18:09,395 - yfinance - DEBUG - reusing crumb
2025-03-23 11:18:09,395 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-03-23 11:18:09,395 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-03-23 11:18:09,485 - urllib3.connectionpool - DEBUG - https://query2.finance.yahoo.com:443 "GET /v7/finance/options/GS?date=1743120000&crumb=qPUGCnmjW%2Fo HTTP/1.1" 200 None
2025-03-23 11:18:09,489 - yfinance - DEBUG - response code=200
2025-03-23 11:18:09,490 - yfinance - DEBUG -  Exiting _make_request()
2025-03-23 11:18:09,490 - yfinance - DEBUG - Exiting get()
2025-03-23 11:18:09,505 - app.services.yfinance_provider - INFO - Sample option data structure: {'contractSymbol': 'GS250328C00450000', 'lastTradeDate': 1740761280000, 'strike': 450.0, 'lastPrice': 167.49, 'bid': 112.6, 'ask': 117.75, 'change': 0.0, 'percentChange': 0.0, 'volume': 1.0, 'openInterest': 1, 'impliedVolatility': 0.6406285938, 'inTheMoney': True, 'contractSize': 'REGULAR', 'currency': 'USD', 'optionType': 'call', 'underlying': 'GS', 'expiration_date': '2025-03-28'}
2025-03-23 11:18:09,505 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Getting underlying price for GS before processing options
2025-03-23 11:18:09,505 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: get_stock_price called for ticker: GS
2025-03-23 11:18:09,505 - app.services.yfinance_provider - DEBUG - DEBUG_OPTION_CHAIN: Checking cache with key: yfinance:stock_price:GS
2025-03-23 11:18:09,506 - app.services.yfinance_provider - DEBUG - Database cache hit for yfinance:stock_price:GS
2025-03-23 11:18:09,506 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Cache hit for yfinance:stock_price:GS, returning price: 565.1400146484375
2025-03-23 11:18:09,506 - app.services.yfinance_provider - INFO - DEBUG_OPTION_CHAIN: Retrieved underlying price for GS: 565.1400146484375
2025-03-23 11:18:09,507 - app.services.yfinance_provider - DEBUG - Sample option keys: dict_keys(['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'optionType', 'underlying', 'expiration_date'])
2025-03-23 11:18:09,507 - app.services.yfinance_provider - DEBUG - Sample standardized option: {'ticker': 'GS', 'expiration': '2025-03-28T00:00:00', 'strike': 450.0, 'option_type': 'call', 'bid': 112.6, 'ask': 117.75, 'last': 167.49, 'volume': 1, 'open_interest': 1, 'implied_volatility': 0.6406285938, 'delta': None, 'gamma': None, 'theta': None, 'vega': None, 'rho': None, 'in_the_money': True, 'underlying_price': 565.1400146484375}
2025-03-23 11:18:09,512 - app.services.yfinance_provider - DEBUG - Saved data to database cache: yfinance:option_chain:GS:2025-03-28 00:00:00
2025-03-23 11:18:09,512 - app.routes.options - INFO - Found 163 options for GS expiring on 2025-03-28
2025-03-23 11:18:09,512 - app.routes.options - INFO - Returning 163 options after filtering
2025-03-23 11:18:09,515 - app.main - INFO - RESPONSE: GET /options/chains/GS/2025-03-28 - Status: 200 - Time: 0.5373s
